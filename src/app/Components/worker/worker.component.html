<!-- worker.component.html (con ruta de configuración corregida) -->
<!-- Sidebar/menu -->
<nav class="w3-sidebar w3-collapse w3-white w3-animate-left" id="mySidebar">
  <div class="w3-container sidebar-profile">
    <a href="javascript:void(0)" (click)="closeSidebar()" class="w3-hide-large w3-right w3-padding w3-hover-grey close-btn" title="close menu">
      <i class="fa fa-remove"></i>
    </a>
    <img [src]="usuario?.Foto_Perfil || 'assets/icons/default_profile.png'" class="profile-photo" alt="Profile Photo"><br>
    <h4><b>{{ usuario?.Nombre || 'Username' }}</b></h4>
    <p class="user-role">{{ usuario?.Rol || 'worker' }}</p>
  </div>
  
  <div class="sidebar-links">
    <a href="javascript:void(0)" (click)="navigateTo('/worker')" class="sidebar-link" [class.active]="isActiveRoute('/worker')">
      Inicio
    </a>
    <a href="javascript:void(0)" (click)="navigateTo('/configuration')" class="sidebar-link" [class.active]="isActiveRoute('/configuration')">
      Configuracion
    </a>
    <a href="javascript:void(0)" (click)="logout()" class="sidebar-link">
      Cerrar sesion
    </a>
  </div>
</nav>

<!-- Overlay effect when opening sidebar on small screens -->
<div class="sidebar-overlay w3-overlay w3-hide-large w3-animate-opacity" (click)="closeSidebar()" id="myOverlay"></div>

<!-- !PAGE CONTENT! -->
<div class="w3-main">
  <!-- Header -->
  <header>
    <!-- Botón para móvil -->
    <span class="w3-button w3-hide-large w3-xxlarge w3-hover-text-grey mobile-menu-btn" (click)="openSidebar()">
      <i class="fa fa-bars"></i>
    </span>
    
    <div class="main-header">
      <h2>Repo System</h2>
    </div>
    
    <!-- Navegación principal -->
    <div class="main-nav">
      <button class="nav-btn" [class.active]="isActiveRoute('/worker')" (click)="navigateTo('/worker')">
        Inicio
      </button>
      <button class="nav-btn" [class.active]="isActiveRoute('/worker-pendingtask')" (click)="navigateTo('/worker-pendingtask')" style="color: black;">
        Reportes Pendientes
      </button>
      <button class="nav-btn" [class.active]="isActiveRoute('/worker-completetask')" (click)="navigateTo('/worker-completetask')">
        Trabajos completos
      </button>
      <button class="nav-btn" [class.active]="isActiveRoute('/worker-statistics')" (click)="navigateTo('/worker-statistics')">
        Estadísticas
      </button>
    </div>
  </header>
  
  <!-- Main Content -->
  <div class="main-content">
    <h1>Bienvenido a Repo System!</h1>
    <p>¿Qué ofrece nuestro sistema?</p>
    
    <!-- Cards Grid -->
    <div class="cards-grid">
      <div class="card">
        <img src="assets/images/mountains.jpg" alt="Norway" class="card-img">
        <div class="card-body">
          <h3>Asignacion de Reportes</h3>
          <p>Con nuestro sistema, podras realizar tareas asiganadas por tu administrador, adjuntando pruebas y completando los datos del trabajo que has hecho!</p>
        </div>
      </div>
      
      <div class="card">
        <img src="assets/images/lights.jpg" alt="Norway" class="card-img">
        <div class="card-body">
          <h3>Reportes en pdf</h3>
          <p>Con nuestro sistema de generacion de pdf con firma digital, garantizamos que la distribucion de trabajos sea lo mas practica posible. Con un modelo profesional y facil de entender la entrega de reportes es mas facil que nunca!</p>
        </div>
      </div>
      
      <div class="card">
        <img src="assets/images/nature.jpg" alt="Norway" class="card-img">
        <div class="card-body">
          <h3>Estadisticas</h3>
          <p>Presentamos un modelo de estadisticas diarias, semanales, mensuales y anuales conforme a los reportes realizados, garantizando el cumplimiento de las actividades asignadas</p>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <h3>Repo System</h3>
      <p>Un sistema de reportería de trabajo de campo que permite a los técnicos documentar sus intervenciones laborales de forma completa.</p>
      <p>Creado por: Alberto Castro, Pedro Saldaña y Andy Pesantez</p>
    </div>
  </footer>
</div>

<!-- File input oculto para seleccionar fotos de perfil -->
<input #fileInput type="file" style="display:none" accept="image/*" (change)="onPhotoSelected($event)">