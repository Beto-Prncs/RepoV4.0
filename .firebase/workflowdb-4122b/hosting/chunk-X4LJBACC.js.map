{"version":3,"sources":["node_modules/@capacitor/preferences/dist/esm/web.js"],"sourcesContent":["import { WebPlugin } from '@capacitor/core';\nexport class PreferencesWeb extends WebPlugin {\n  constructor() {\n    super(...arguments);\n    this.group = 'CapacitorStorage';\n  }\n  async configure({\n    group\n  }) {\n    if (typeof group === 'string') {\n      this.group = group;\n    }\n  }\n  async get(options) {\n    const value = this.impl.getItem(this.applyPrefix(options.key));\n    return {\n      value\n    };\n  }\n  async set(options) {\n    this.impl.setItem(this.applyPrefix(options.key), options.value);\n  }\n  async remove(options) {\n    this.impl.removeItem(this.applyPrefix(options.key));\n  }\n  async keys() {\n    const keys = this.rawKeys().map(k => k.substring(this.prefix.length));\n    return {\n      keys\n    };\n  }\n  async clear() {\n    for (const key of this.rawKeys()) {\n      this.impl.removeItem(key);\n    }\n  }\n  async migrate() {\n    var _a;\n    const migrated = [];\n    const existing = [];\n    const oldprefix = '_cap_';\n    const keys = Object.keys(this.impl).filter(k => k.indexOf(oldprefix) === 0);\n    for (const oldkey of keys) {\n      const key = oldkey.substring(oldprefix.length);\n      const value = (_a = this.impl.getItem(oldkey)) !== null && _a !== void 0 ? _a : '';\n      const {\n        value: currentValue\n      } = await this.get({\n        key\n      });\n      if (typeof currentValue === 'string') {\n        existing.push(key);\n      } else {\n        await this.set({\n          key,\n          value\n        });\n        migrated.push(key);\n      }\n    }\n    return {\n      migrated,\n      existing\n    };\n  }\n  async removeOld() {\n    const oldprefix = '_cap_';\n    const keys = Object.keys(this.impl).filter(k => k.indexOf(oldprefix) === 0);\n    for (const oldkey of keys) {\n      this.impl.removeItem(oldkey);\n    }\n  }\n  get impl() {\n    return window.localStorage;\n  }\n  get prefix() {\n    return this.group === 'NativeStorage' ? '' : `${this.group}.`;\n  }\n  rawKeys() {\n    return Object.keys(this.impl).filter(k => k.indexOf(this.prefix) === 0);\n  }\n  applyPrefix(key) {\n    return this.prefix + key;\n  }\n}\n"],"mappings":"gFACO,IAAMA,EAAN,cAA6BC,CAAU,CAC5C,aAAc,CACZ,MAAM,GAAG,SAAS,EAClB,KAAK,MAAQ,kBACf,CACM,UAAUC,EAEb,QAAAC,EAAA,yBAFa,CACd,MAAAC,CACF,EAAG,CACG,OAAOA,GAAU,WACnB,KAAK,MAAQA,EAEjB,GACM,IAAIC,EAAS,QAAAF,EAAA,sBAEjB,MAAO,CACL,MAFY,KAAK,KAAK,QAAQ,KAAK,YAAYE,EAAQ,GAAG,CAAC,CAG7D,CACF,GACM,IAAIA,EAAS,QAAAF,EAAA,sBACjB,KAAK,KAAK,QAAQ,KAAK,YAAYE,EAAQ,GAAG,EAAGA,EAAQ,KAAK,CAChE,GACM,OAAOA,EAAS,QAAAF,EAAA,sBACpB,KAAK,KAAK,WAAW,KAAK,YAAYE,EAAQ,GAAG,CAAC,CACpD,GACM,MAAO,QAAAF,EAAA,sBAEX,MAAO,CACL,KAFW,KAAK,QAAQ,EAAE,IAAIG,GAAKA,EAAE,UAAU,KAAK,OAAO,MAAM,CAAC,CAGpE,CACF,GACM,OAAQ,QAAAH,EAAA,sBACZ,QAAWI,KAAO,KAAK,QAAQ,EAC7B,KAAK,KAAK,WAAWA,CAAG,CAE5B,GACM,SAAU,QAAAJ,EAAA,sBACd,IAAIK,EACJ,IAAMC,EAAW,CAAC,EACZC,EAAW,CAAC,EACZC,EAAY,QACZC,EAAO,OAAO,KAAK,KAAK,IAAI,EAAE,OAAON,GAAKA,EAAE,QAAQK,CAAS,IAAM,CAAC,EAC1E,QAAWE,KAAUD,EAAM,CACzB,IAAML,EAAMM,EAAO,UAAUF,EAAU,MAAM,EACvCG,GAASN,EAAK,KAAK,KAAK,QAAQK,CAAM,KAAO,MAAQL,IAAO,OAASA,EAAK,GAC1E,CACJ,MAAOO,CACT,EAAI,MAAM,KAAK,IAAI,CACjB,IAAAR,CACF,CAAC,EACG,OAAOQ,GAAiB,SAC1BL,EAAS,KAAKH,CAAG,GAEjB,MAAM,KAAK,IAAI,CACb,IAAAA,EACA,MAAAO,CACF,CAAC,EACDL,EAAS,KAAKF,CAAG,EAErB,CACA,MAAO,CACL,SAAAE,EACA,SAAAC,CACF,CACF,GACM,WAAY,QAAAP,EAAA,sBAChB,IAAMQ,EAAY,QACZC,EAAO,OAAO,KAAK,KAAK,IAAI,EAAE,OAAON,GAAKA,EAAE,QAAQK,CAAS,IAAM,CAAC,EAC1E,QAAWE,KAAUD,EACnB,KAAK,KAAK,WAAWC,CAAM,CAE/B,GACA,IAAI,MAAO,CACT,OAAO,OAAO,YAChB,CACA,IAAI,QAAS,CACX,OAAO,KAAK,QAAU,gBAAkB,GAAK,GAAG,KAAK,KAAK,GAC5D,CACA,SAAU,CACR,OAAO,OAAO,KAAK,KAAK,IAAI,EAAE,OAAOP,GAAKA,EAAE,QAAQ,KAAK,MAAM,IAAM,CAAC,CACxE,CACA,YAAYC,EAAK,CACf,OAAO,KAAK,OAASA,CACvB,CACF","names":["PreferencesWeb","WebPlugin","_0","__async","group","options","k","key","_a","migrated","existing","oldprefix","keys","oldkey","value","currentValue"],"x_google_ignoreList":[0]}