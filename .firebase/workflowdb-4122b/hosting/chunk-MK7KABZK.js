import{a as ve}from"./chunk-GWCWM33O.js";import{a as xe}from"./chunk-SZLL3TPF.js";import"./chunk-BXWCDTY3.js";import{a as ie}from"./chunk-HMRK7SWW.js";import"./chunk-NOIAGMWN.js";import{a as Ce}from"./chunk-GFZFYLPE.js";import{b as ae,c as _,d as le,e as se,h as pe,j as ce,k as me,l as de,m as ue,n as _e,r as ge,t as fe}from"./chunk-QFMXGRBX.js";import{K as Z,M as ee,N as te,O as N,Q as ne,U as re,W as oe,X as V,l as b}from"./chunk-7XAWW6QG.js";import{c as W,d as H,e as Q,g as J,k as K,u as X}from"./chunk-OLDY7IAS.js";import{A as $,Ab as g,B as k,Bb as E,D as T,Eb as v,Fb as u,G as R,I as A,Mb as s,Nb as j,O as z,Ob as C,Q as B,Ta as a,Vb as Y,Yb as M,Z as f,Zb as O,bb as U,g as y,ga as S,gb as m,ha as w,ia as h,ja as D,na as G,o as F,ob as l,s as I,yb as r,zb as n}from"./chunk-GCXAMRXK.js";import{a as q,b as L,g as P}from"./chunk-OIKEWKHE.js";var he=(t,p)=>({active:t,completed:p});function be(t,p){if(t&1&&(r(0,"div",30),h(),r(1,"svg",31),g(2,"circle",32)(3,"line",33)(4,"line",34),n(),s(5),n()),t&2){let e=u();a(5),C(" ",e.errorMessage," ")}}function ye(t,p){if(t&1&&(r(0,"div",35),h(),r(1,"svg",31),g(2,"path",36)(3,"polyline",37),n(),s(4),n()),t&2){let e=u();a(4),C(" ",e.successMessage," ")}}function Se(t,p){t&1&&(r(0,"div",38),g(1,"div",39),r(2,"span"),s(3,"Cargando..."),n()())}function we(t,p){if(t&1){let e=E();r(0,"div",40),v("click",function(){let i=S(e).index,c=u();return w(c.goToStep(i+1))}),r(1,"div",41),s(2),n(),r(3,"div",42),s(4),n()()}if(t&2){let e=p.$implicit,o=p.index,i=u();l("ngClass",Y(3,he,i.selectedStep===o+1,i.selectedStep>o+1||e.isValid)),a(2),j(o+1),a(2),j(e.title)}}function Ee(t,p){if(t&1&&(r(0,"option",57),s(1),n()),t&2){let e=p.$implicit;l("value",e.IdEmpresa),a(),C(" ",e.Nombre," ")}}function Me(t,p){t&1&&(r(0,"span"),s(1," La empresa es requerida "),n())}function Oe(t,p){if(t&1&&(r(0,"div",58),m(1,Me,2,0,"span",59),n()),t&2){let e,o=u(2);a(),l("ngIf",(e=o.reportForm.get("companyId"))==null||e.errors==null?null:e.errors.required)}}function Pe(t,p){t&1&&(r(0,"span"),s(1," El nombre de la empresa es requerido "),n())}function Fe(t,p){t&1&&(r(0,"span"),s(1," El nombre debe tener al menos 2 caracteres "),n())}function Ie(t,p){if(t&1&&(r(0,"div",58),m(1,Pe,2,0,"span",59)(2,Fe,2,0,"span",59),n()),t&2){let e,o,i=u(3);a(),l("ngIf",(e=i.companyForm.get("Nombre"))==null||e.errors==null?null:e.errors.required),a(),l("ngIf",(o=i.companyForm.get("Nombre"))==null||o.errors==null?null:o.errors.minlength)}}function ke(t,p){t&1&&(r(0,"span"),s(1," El correo es requerido "),n())}function Te(t,p){t&1&&(r(0,"span"),s(1," Ingrese un correo v\xE1lido "),n())}function Re(t,p){if(t&1&&(r(0,"div",58),m(1,ke,2,0,"span",59)(2,Te,2,0,"span",59),n()),t&2){let e,o,i=u(3);a(),l("ngIf",(e=i.companyForm.get("Correo"))==null||e.errors==null?null:e.errors.required),a(),l("ngIf",(o=i.companyForm.get("Correo"))==null||o.errors==null?null:o.errors.email)}}function De(t,p){t&1&&(r(0,"span"),s(1," La direcci\xF3n es requerida "),n())}function je(t,p){if(t&1&&(r(0,"div",58),m(1,De,2,0,"span",59),n()),t&2){let e,o=u(3);a(),l("ngIf",(e=o.companyForm.get("Direccion"))==null||e.errors==null?null:e.errors.required)}}function Ne(t,p){t&1&&(r(0,"span"),s(1," El sector es requerido "),n())}function Ve(t,p){if(t&1&&(r(0,"div",58),m(1,Ne,2,0,"span",59),n()),t&2){let e,o=u(3);a(),l("ngIf",(e=o.companyForm.get("Sector"))==null||e.errors==null?null:e.errors.required)}}function qe(t,p){if(t&1&&(r(0,"div",60)(1,"h3"),s(2,"Nueva Empresa"),n(),r(3,"div",44)(4,"label",61),s(5,"Nombre de la Empresa *"),n(),g(6,"input",62),m(7,Ie,3,2,"div",49),n(),r(8,"div",44)(9,"label",63),s(10,"Correo de la Empresa *"),n(),g(11,"input",64),m(12,Re,3,2,"div",49),n(),r(13,"div",44)(14,"label",65),s(15,"Direcci\xF3n *"),n(),g(16,"input",66),m(17,je,2,1,"div",49),n(),r(18,"div",44)(19,"label",67),s(20,"Sector *"),n(),g(21,"input",68),m(22,Ve,2,1,"div",49),n()()),t&2){let e,o,i,c,d=u(2);l("formGroup",d.companyForm),a(7),l("ngIf",((e=d.companyForm.get("Nombre"))==null?null:e.touched)&&((e=d.companyForm.get("Nombre"))==null?null:e.errors)),a(5),l("ngIf",((o=d.companyForm.get("Correo"))==null?null:o.touched)&&((o=d.companyForm.get("Correo"))==null?null:o.errors)),a(5),l("ngIf",((i=d.companyForm.get("Direccion"))==null?null:i.touched)&&((i=d.companyForm.get("Direccion"))==null?null:i.errors)),a(5),l("ngIf",((c=d.companyForm.get("Sector"))==null?null:c.touched)&&((c=d.companyForm.get("Sector"))==null?null:c.errors))}}function Le(t,p){if(t&1&&(r(0,"option",57),s(1),n()),t&2){let e=p.$implicit;l("value",e),a(),C(" ",e," ")}}function $e(t,p){t&1&&(r(0,"span"),s(1," La prioridad es requerida "),n())}function Ae(t,p){if(t&1&&(r(0,"div",58),m(1,$e,2,0,"span",59),n()),t&2){let e,o=u(2);a(),l("ngIf",(e=o.reportForm.get("priority"))==null||e.errors==null?null:e.errors.required)}}function ze(t,p){if(t&1&&(r(0,"option",57),s(1),n()),t&2){let e=p.$implicit;l("value",e.id),a(),C(" ",e.name," ")}}function Be(t,p){t&1&&(r(0,"span"),s(1," El departamento es requerido "),n())}function Ge(t,p){if(t&1&&(r(0,"div",58),m(1,Be,2,0,"span",59),n()),t&2){let e,o=u(2);a(),l("ngIf",(e=o.reportForm.get("department"))==null||e.errors==null?null:e.errors.required)}}function Ue(t,p){if(t&1&&(r(0,"option",57),s(1),n()),t&2){let e=p.$implicit;l("value",e.Username),a(),C(" ",e.Username," ")}}function Ye(t,p){t&1&&(r(0,"span"),s(1," El trabajador es requerido "),n())}function We(t,p){if(t&1&&(r(0,"div",58),m(1,Ye,2,0,"span",59),n()),t&2){let e,o=u(2);a(),l("ngIf",(e=o.reportForm.get("workerId"))==null||e.errors==null?null:e.errors.required)}}function He(t,p){if(t&1&&(r(0,"div",43)(1,"h2"),s(2,"Informaci\xF3n de Asignaci\xF3n"),n(),r(3,"div",44)(4,"label",45),s(5,"Empresa/Cliente *"),n(),r(6,"select",46)(7,"option",47),s(8,"Seleccione una empresa"),n(),m(9,Ee,2,2,"option",48),M(10,"async"),n(),m(11,Oe,2,1,"div",49),n(),m(12,qe,23,5,"div",50),r(13,"div",44)(14,"label",51),s(15,"Prioridad *"),n(),r(16,"select",52)(17,"option",47),s(18,"Seleccione una prioridad"),n(),m(19,Le,2,2,"option",48),n(),m(20,Ae,2,1,"div",49),n(),r(21,"div",44)(22,"label",53),s(23,"Departamento *"),n(),r(24,"select",54)(25,"option",47),s(26,"Seleccione un departamento"),n(),m(27,ze,2,2,"option",48),M(28,"async"),n(),m(29,Ge,2,1,"div",49),n(),r(30,"div",44)(31,"label",55),s(32,"Trabajador Asignado *"),n(),r(33,"select",56)(34,"option",47),s(35,"Seleccione un trabajador"),n(),m(36,Ue,2,2,"option",48),M(37,"async"),n(),m(38,We,2,1,"div",49),n()()),t&2){let e,o,i,c,d=u();a(9),l("ngForOf",O(10,9,d.companies$)),a(2),l("ngIf",((e=d.reportForm.get("companyId"))==null?null:e.touched)&&((e=d.reportForm.get("companyId"))==null?null:e.errors)),a(),l("ngIf",d.showNewCompany),a(7),l("ngForOf",d.priorityOptions),a(),l("ngIf",((o=d.reportForm.get("priority"))==null?null:o.touched)&&((o=d.reportForm.get("priority"))==null?null:o.errors)),a(7),l("ngForOf",O(28,11,d.departments$)),a(2),l("ngIf",((i=d.reportForm.get("department"))==null?null:i.touched)&&((i=d.reportForm.get("department"))==null?null:i.errors)),a(7),l("ngForOf",O(37,13,d.workers$)),a(2),l("ngIf",((c=d.reportForm.get("workerId"))==null?null:c.touched)&&((c=d.reportForm.get("workerId"))==null?null:c.errors))}}function Qe(t,p){t&1&&(r(0,"span"),s(1," El t\xEDtulo es requerido "),n())}function Je(t,p){t&1&&(r(0,"span"),s(1," El t\xEDtulo debe tener al menos 3 caracteres "),n())}function Ke(t,p){if(t&1&&(r(0,"div",58),m(1,Qe,2,0,"span",59)(2,Je,2,0,"span",59),n()),t&2){let e,o,i=u(2);a(),l("ngIf",(e=i.reportForm.get("jobTitle"))==null||e.errors==null?null:e.errors.required),a(),l("ngIf",(o=i.reportForm.get("jobTitle"))==null||o.errors==null?null:o.errors.minlength)}}function Xe(t,p){t&1&&(r(0,"span"),s(1," La descripci\xF3n es requerida "),n())}function Ze(t,p){t&1&&(r(0,"span"),s(1," La descripci\xF3n debe tener al menos 10 caracteres "),n())}function et(t,p){if(t&1&&(r(0,"div",58),m(1,Xe,2,0,"span",59)(2,Ze,2,0,"span",59),n()),t&2){let e,o,i=u(2);a(),l("ngIf",(e=i.reportForm.get("jobDescription"))==null||e.errors==null?null:e.errors.required),a(),l("ngIf",(o=i.reportForm.get("jobDescription"))==null||o.errors==null?null:o.errors.minlength)}}function tt(t,p){t&1&&(r(0,"span"),s(1," La ubicaci\xF3n es requerida "),n())}function nt(t,p){if(t&1&&(r(0,"div",58),m(1,tt,2,0,"span",59),n()),t&2){let e,o=u(2);a(),l("ngIf",(e=o.reportForm.get("location"))==null||e.errors==null?null:e.errors.required)}}function rt(t,p){if(t&1&&(r(0,"div",43)(1,"h2"),s(2,"Informaci\xF3n del Trabajo"),n(),r(3,"div",44)(4,"label",69),s(5,"T\xEDtulo del Trabajo *"),n(),g(6,"input",70),m(7,Ke,3,2,"div",49),n(),r(8,"div",44)(9,"label",71),s(10,"Descripci\xF3n del Trabajo *"),n(),g(11,"textarea",72),m(12,et,3,2,"div",49),n(),r(13,"div",44)(14,"label",73),s(15,"Ubicaci\xF3n del Trabajo *"),n(),g(16,"input",74),m(17,nt,2,1,"div",49),n()()),t&2){let e,o,i,c=u();a(7),l("ngIf",((e=c.reportForm.get("jobTitle"))==null?null:e.touched)&&((e=c.reportForm.get("jobTitle"))==null?null:e.errors)),a(5),l("ngIf",((o=c.reportForm.get("jobDescription"))==null?null:o.touched)&&((o=c.reportForm.get("jobDescription"))==null?null:o.errors)),a(5),l("ngIf",((i=c.reportForm.get("location"))==null?null:i.touched)&&((i=c.reportForm.get("location"))==null?null:i.errors))}}function ot(t,p){if(t&1){let e=E();r(0,"button",75),v("click",function(){S(e);let i=u();return w(i.previousStep())}),s(1," Anterior "),n()}}function it(t,p){t&1&&g(0,"div",76)}function at(t,p){if(t&1){let e=E();r(0,"button",77),v("click",function(){S(e);let i=u();return w(i.nextStep())}),s(1," Siguiente "),n()}if(t&2){let e=u();l("disabled",!e.isFormValid)}}function lt(t,p){if(t&1&&(r(0,"button",78),s(1),n()),t&2){let e=u();l("disabled",!e.isFormValid||e.isSubmitting||e.isLoading),a(),C(" ",e.isSubmitting?"Generando...":"Asignar Reporte"," ")}}var Et=(()=>{class t{firestore=f(Z);fb=f(ge);router=f(X);taskService=f(xe);authService=f(ie);departmentService=f(Ce);companyService=f(ve);destroyRef=f(G);reportForm;companyForm;selectedStep=1;errorMessage="";successMessage="";isLoading=!1;isSubmitting=!1;steps=[{id:1,label:"Asignaci\xF3n",title:"Asignaci\xF3n",completed:!1,current:!0,isValid:!1},{id:2,label:"Descripci\xF3n",title:"Descripci\xF3n",completed:!1,current:!1,isValid:!1}];priorityOptions=["Alta","Media","Baja"];workers$=new y([]);companies$=new y([]);departments$=new y([]);showNewCompany=!1;constructor(){this.initForms()}ngOnInit(){return P(this,null,function*(){this.setupSubscriptions(),this.loadInitialData()})}initForms(){this.reportForm=this.fb.group({priority:["",[_.required]],workerId:["",[_.required]],department:["",[_.required]],companyId:["",[_.required]],jobTitle:["",[_.required,_.minLength(3)]],jobDescription:["",[_.required,_.minLength(10)]],location:["",[_.required]]}),this.companyForm=this.fb.group({Nombre:["",[_.required,_.minLength(2)]],Correo:["",[_.required,_.email]],Direccion:["",[_.required]],Sector:["",[_.required]]})}setupSubscriptions(){this.reportForm.get("department")?.valueChanges.pipe(T(300),R(),b(this.destroyRef),$(e=>!!e),z(e=>this.loadWorkersByDepartment(e))).subscribe({next:e=>{console.log("Trabajadores cargados:",e),this.workers$.next(e)},error:e=>{console.error("Error en la suscripci\xF3n de departamento:",e),this.showError("Error al cargar trabajadores del departamento")}}),this.reportForm.get("companyId")?.valueChanges.pipe(T(300),R(),b(this.destroyRef)).subscribe(e=>{this.showNewCompany=e==="other",this.showNewCompany&&this.companyForm.reset()}),this.setupStepValidation(0,["priority","workerId","department","companyId"]),this.setupStepValidation(1,["jobTitle","jobDescription","location"])}setupStepValidation(e,o){o.forEach(i=>{this.reportForm.get(i)?.valueChanges.pipe(b(this.destroyRef)).subscribe(()=>{let c=o.every(d=>{let x=this.reportForm.get(d);return x&&x.valid&&x.value});this.steps[e].completed=c,this.steps[e].isValid=c,console.log(`Step ${e+1} validation updated:`,c)})})}loadWorkersByDepartment(e){console.log("Cargando trabajadores para departamento:",e);let o=N(this.firestore,"Usuario"),i=re(o,V("Departamento","==",e),V("Rol","==","worker"));return ee(i,{idField:"IdUsuario"}).pipe(I(c=>c),B(c=>{c.length===0&&this.showError(`No hay trabajadores en el departamento ${e}`)}),k(c=>(console.error("Error cargando trabajadores:",c),this.showError("Error al cargar trabajadores"),F([]))))}loadInitialData(){this.isLoading=!0,this.departmentService.getDepartments().pipe(b(this.destroyRef)).subscribe({next:e=>{this.departments$.next(e)},error:e=>{console.error("Error cargando departamentos:",e),this.showError("Error al cargar departamentos.")}}),this.companyService.getCompanies().pipe(I(e=>[...e,{IdEmpresa:"other",Nombre:"Otra empresa",Correo:"",Direccion:"",Sector:""}]),k(e=>(console.error("Error cargando empresas:",e),this.showError("Error al cargar empresas."),F([]))),A()).subscribe({next:e=>{e&&e.length>0?this.companies$.next(e):this.showError("No se encontraron empresas"),this.isLoading=!1},error:e=>{console.error("Error en la carga de datos:",e),this.showError("Error al cargar los datos."),this.isLoading=!1}})}onSubmit(){return P(this,null,function*(){if(!this.isFormValid||this.isSubmitting||this.isLoading){console.log("Formulario no v\xE1lido o en proceso de env\xEDo");return}this.isSubmitting=!0,this.isLoading=!0;try{if(!(yield this.authService.getCurrentUser()))throw new Error("No hay usuario autenticado");let o=this.reportForm.get("companyId")?.value;if(o==="other"){if(!this.companyForm.valid)throw new Error("Los datos de la nueva empresa son inv\xE1lidos");let d=L(q({},this.companyForm.value),{IdEmpresa:""}),x=yield te(N(this.firestore,"Empresa"),d);o=x.id,yield oe(ne(this.firestore,"Empresa",x.id),{IdEmpresa:x.id})}let i={IdEmpresa:o,IdUsuario:this.reportForm.get("workerId")?.value,Tipo_Trabajo:this.reportForm.get("jobTitle")?.value,estado:"Pendiente",fecha:new Date,jobDescription:this.reportForm.get("jobDescription")?.value,location:this.reportForm.get("location")?.value,priority:this.reportForm.get("priority")?.value,departamento:this.reportForm.get("department")?.value};console.log("Enviando datos del reporte:",i);let c=yield this.taskService.assignReporte(i);console.log("Reporte creado con ID:",c),this.showSuccess("Reporte generado correctamente"),this.resetForms(),this.router.navigate(["/reportsInterface"])}catch(e){console.error("Error al procesar el formulario:",e),this.showError(e.message||"Error al generar el reporte")}finally{this.isSubmitting=!1,this.isLoading=!1}})}get isFormValid(){return this.selectedStep===1?this.steps[0].isValid:this.steps[1].isValid}showError(e){this.errorMessage=e,setTimeout(()=>this.errorMessage="",5e3)}showSuccess(e){this.successMessage=e,setTimeout(()=>this.successMessage="",3e3)}resetForms(){this.reportForm.reset(),this.companyForm.reset(),this.selectedStep=1,this.steps.forEach(e=>{e.completed=!1,e.isValid=!1,e.current=e.id===1}),this.showNewCompany=!1}nextStep(){this.selectedStep<this.steps.length&&this.isFormValid&&(this.steps[this.selectedStep-1].current=!1,this.selectedStep++,this.steps[this.selectedStep-1].current=!0)}previousStep(){this.selectedStep>1&&(this.steps[this.selectedStep-1].current=!1,this.selectedStep--,this.steps[this.selectedStep-1].current=!0)}goToStep(e){(this.steps[e-1].isValid||e<=this.selectedStep)&&(this.steps[this.selectedStep-1].current=!1,this.selectedStep=e,this.steps[this.selectedStep-1].current=!0)}goBack(){this.router.navigate(["/reportsInterface"])}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=U({type:t,selectors:[["app-create-reports"]],decls:36,vars:11,consts:[[1,"create-reports-container"],[1,"back-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x1","19","y1","12","x2","5","y2","12"],["points","12 19 5 12 12 5"],[1,"main-card"],[1,"card-header"],[1,"header-content"],[1,"icon-wrapper"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"],["points","14 2 14 8 20 8"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["points","10 9 9 9 8 9"],[1,"header-text"],[1,"subtitle"],["class","alert alert-error","role","alert",4,"ngIf"],["class","alert alert-success","role","alert",4,"ngIf"],["class","loading-indicator",4,"ngIf"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"steps"],["class","step",3,"ngClass","click",4,"ngFor","ngForOf"],["class","step-content",4,"ngIf"],[1,"step-actions"],["type","button","class","btn-secondary",3,"click",4,"ngIf"],["class","spacer",4,"ngIf"],["type","button","class","btn-primary",3,"disabled","click",4,"ngIf"],["type","submit","class","btn-primary",3,"disabled",4,"ngIf"],["role","alert",1,"alert","alert-error"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor",1,"alert-icon"],["cx","12","cy","12","r","10"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],["role","alert",1,"alert","alert-success"],["d","M22 11.08V12a10 10 0 1 1-5.93-9.14"],["points","22 4 12 14.01 9 11.01"],[1,"loading-indicator"],[1,"spinner"],[1,"step",3,"click","ngClass"],[1,"step-number"],[1,"step-title"],[1,"step-content"],[1,"form-group"],["for","companyName"],["id","companyName","formControlName","companyId"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","error-message",4,"ngIf"],["class","new-company-form",3,"formGroup",4,"ngIf"],["for","priority"],["id","priority","formControlName","priority"],["for","department"],["id","department","formControlName","department"],["for","worker"],["id","worker","formControlName","workerId"],[3,"value"],[1,"error-message"],[4,"ngIf"],[1,"new-company-form",3,"formGroup"],["for","newCompanyName"],["type","text","id","newCompanyName","formControlName","Nombre"],["for","newCompanyEmail"],["type","email","id","newCompanyEmail","formControlName","Correo"],["for","newCompanyAddress"],["type","text","id","newCompanyAddress","formControlName","Direccion"],["for","newCompanySector"],["type","text","id","newCompanySector","formControlName","Sector"],["for","jobTitle"],["type","text","id","jobTitle","formControlName","jobTitle"],["for","jobDescription"],["id","jobDescription","formControlName","jobDescription","rows","4"],["for","location"],["type","text","id","location","formControlName","location"],["type","button",1,"btn-secondary",3,"click"],[1,"spacer"],["type","button",1,"btn-primary",3,"click","disabled"],["type","submit",1,"btn-primary",3,"disabled"]],template:function(o,i){o&1&&(r(0,"div",0)(1,"button",1),v("click",function(){return i.goBack()}),h(),r(2,"svg",2),g(3,"line",3)(4,"polyline",4),n(),D(),r(5,"span"),s(6,"Atr\xE1s"),n()(),r(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),h(),r(11,"svg",9),g(12,"path",10)(13,"polyline",11)(14,"line",12)(15,"line",13)(16,"polyline",14),n()(),D(),r(17,"div",15)(18,"h1"),s(19,"Generar Reporte de Trabajo"),n(),r(20,"p",16),s(21,"Complete la informaci\xF3n del reporte en todos los pasos"),n()()()(),m(22,be,6,1,"div",17)(23,ye,5,1,"div",18)(24,Se,4,0,"div",19),r(25,"div",20)(26,"form",21),v("ngSubmit",function(){return i.onSubmit()}),r(27,"div",22),m(28,we,5,6,"div",23),n(),m(29,He,39,15,"div",24)(30,rt,18,3,"div",24),r(31,"div",25),m(32,ot,2,0,"button",26)(33,it,1,0,"div",27)(34,at,2,1,"button",28)(35,lt,2,2,"button",29),n()()()()()),o&2&&(a(22),l("ngIf",i.errorMessage),a(),l("ngIf",i.successMessage),a(),l("ngIf",i.isLoading),a(2),l("formGroup",i.reportForm),a(2),l("ngForOf",i.steps),a(),l("ngIf",i.selectedStep===1),a(),l("ngIf",i.selectedStep===2),a(2),l("ngIf",i.selectedStep>1),a(),l("ngIf",i.selectedStep===1),a(),l("ngIf",i.selectedStep<i.steps.length),a(),l("ngIf",i.selectedStep===i.steps.length))},dependencies:[K,W,H,Q,J,fe,pe,ue,_e,ae,de,le,se,ce,me],styles:[`@charset "UTF-8";@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(1rem)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}.create-reports-container[_ngcontent-%COMP%]{max-width:1200px;margin:2rem auto;padding:0 1rem;font-family:Inter,sans-serif;color:#2c3e50}@media (max-width: 768px){.create-reports-container[_ngcontent-%COMP%]{margin:1rem;padding:0}}.main-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 4px 8px #0000001a;overflow:hidden;margin-top:3rem}.back-button[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;padding:.75rem 1rem;background-color:#fff;border:1px solid #ced4da;border-radius:8px;color:#495057;font-weight:500;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 4px #0000000d}.back-button[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;transform:translate(-2px)}.back-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.card-header[_ngcontent-%COMP%]{background:linear-gradient(to right,#cce5f6,#e1f0fa);padding:1.5rem;border-bottom:1px solid #e9ecef;border-radius:12px 12px 0 0}.header-content[_ngcontent-%COMP%]{display:flex;gap:1.5rem;align-items:center}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}.icon-wrapper[_ngcontent-%COMP%]{background:#fff;width:60px;height:60px;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 4px #0000000d}.icon-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#3498db}.header-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2c3e50;margin:0;font-size:1.5rem;font-weight:700}.header-text[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#6c757d;margin:.5rem 0 0;font-size:1rem}.card-body[_ngcontent-%COMP%]{padding:3rem}@media (max-width: 768px){.card-body[_ngcontent-%COMP%]{padding:1.5rem}}.steps[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:3rem;position:relative}.steps[_ngcontent-%COMP%]:before{content:"";position:absolute;top:24px;left:0;right:0;height:2px;background:#e9ecef;z-index:1}@media (max-width: 768px){.steps[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.steps[_ngcontent-%COMP%]:before{display:none}}.step[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:relative;z-index:2;cursor:pointer}@media (max-width: 768px){.step[_ngcontent-%COMP%]{flex-direction:row;gap:1rem}}.step-number[_ngcontent-%COMP%]{width:48px;height:48px;background:#fff;border:2px solid #ced4da;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:600;color:#6c757d;margin-bottom:.5rem;transition:all .3s ease}@media (max-width: 768px){.step-number[_ngcontent-%COMP%]{margin-bottom:0}}.step-title[_ngcontent-%COMP%]{color:#6c757d;font-size:.875rem;font-weight:500;white-space:nowrap}.step.active[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{background:#3498db;border-color:#3498db;color:#fff;box-shadow:0 0 0 4px #3498db33}.step.active[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{color:#3498db;font-weight:600}.step.completed[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{background:#2ecc71;border-color:#2ecc71;color:#fff}.step.completed[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{color:#2ecc71}.step-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .4s ease-in-out}.step-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;font-size:1.25rem;margin:0 0 1.5rem;font-weight:600;border-bottom:1px solid #e9ecef;padding-bottom:.75rem}.step-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#3498db;font-size:1rem;margin:1rem 0;font-weight:500}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#2c3e50;font-weight:500}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:1rem;border:1px solid #ced4da;border-radius:8px;font-size:1rem;color:#495057;background-color:#fff;box-shadow:inset 0 1px 2px #0000000d;transition:border-color .15s ease-in-out}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#3498db;outline:none;box-shadow:0 0 0 3px #3498db40}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{background-color:#f8f9fa;cursor:not-allowed}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#78838e}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:120px;resize:vertical}.new-company-form[_ngcontent-%COMP%]{background-color:#e1f0fa;border-radius:8px;padding:1.5rem;margin-bottom:1.5rem;border-left:4px solid #3498db;animation:_ngcontent-%COMP%_fadeIn .4s ease-in-out}.error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:.875rem;margin-top:.5rem;font-weight:500;animation:_ngcontent-%COMP%_shake .4s ease-in-out}.alert[_ngcontent-%COMP%]{margin:1rem 3rem;padding:1rem;border-radius:8px;display:flex;align-items:center;gap:1rem;animation:_ngcontent-%COMP%_fadeIn .4s ease-in-out}.alert.alert-error[_ngcontent-%COMP%]{background-color:#fae5e3;border-left:4px solid #e74c3c;color:#d62c1a}.alert.alert-success[_ngcontent-%COMP%]{background-color:#d4f6e6;border-left:4px solid #2ecc71;color:#25a25a}.alert[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{width:24px;height:24px;stroke:currentColor}.loading-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem;padding:1rem;color:#495057;font-size:1rem}.loading-indicator[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:2px solid #3498db;border-top-color:transparent;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.step-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-top:2rem;padding-top:1rem;border-top:1px solid #e9ecef}@media (max-width: 768px){.step-actions[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}}.step-actions[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1}@media (max-width: 768px){.step-actions[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{display:none}}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:1rem 2rem;border-radius:8px;font-weight:500;font-size:1rem;transition:all .3s ease;cursor:pointer;border:none;box-shadow:0 2px 4px #0000000d;display:flex;align-items:center;justify-content:center;gap:.5rem}@media (max-width: 768px){.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{width:100%}}.btn-primary[_ngcontent-%COMP%]{background:#3498db;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#2980b9;transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}.btn-primary[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.btn-primary[_ngcontent-%COMP%]:disabled{background:#bdc3c7;cursor:not-allowed;opacity:.8}.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#2c3e50;border:1px solid #ced4da}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f8f9fa;transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}.btn-secondary[_ngcontent-%COMP%]:active{transform:translateY(0)}
/*# sourceMappingURL=create-reports.component-DRQI2D5Y.css.map */`]})}return t})();export{Et as CreateReportsComponent};
//# sourceMappingURL=chunk-MK7KABZK.js.map
