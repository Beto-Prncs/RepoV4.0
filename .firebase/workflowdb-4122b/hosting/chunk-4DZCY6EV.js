import{b as T,d as W,e as F,f as L,g as I,h as B,o as U,s as q}from"./chunk-QFMXGRBX.js";import{C as v,K as V,Q as N,V as R,y as k}from"./chunk-7XAWW6QG.js";import{e as D,k as E,u as O}from"./chunk-OLDY7IAS.js";import{Ab as x,Bb as P,Eb as _,Lb as b,Mb as i,Ob as S,Qb as m,Rb as p,Sb as u,Ta as s,Ya as w,bb as C,ga as l,gb as y,ha as d,ob as h,yb as n,zb as o}from"./chunk-GCXAMRXK.js";import{g as M}from"./chunk-OIKEWKHE.js";function z(c,j){c&1&&(n(0,"div",22),i(1," Error al crear la cuenta "),o())}function A(c,j){c&1&&(n(0,"div",23),i(1," Cuenta creada exitosamente "),o())}var te=(()=>{class c{router;auth;firestore;showPassword=!1;isLoading=!1;showSuccessMessage=!1;showErrorMessage=!1;accountData={firstName:"",lastName:"",email:"",phone:"",username:"",password:""};constructor(f,a,e){this.router=f,this.auth=a,this.firestore=e}togglePasswordVisibility(){this.showPassword=!this.showPassword}onSubmit(f){return M(this,null,function*(){if(!f.invalid){this.isLoading=!0;try{let a=yield v(this.auth,this.accountData.email,this.accountData.password);yield R(N(this.firestore,"Usuario",a.user.uid),{Nombre:`${this.accountData.firstName} ${this.accountData.lastName}`,Correo:this.accountData.email,IdUsuario:a.user.uid,Foto_Perfil:" ",Rol:"user",Telefono:this.accountData.phone,Username:this.accountData.username}),this.showSuccessMessage=!0,this.resetForm(),f.resetForm(),setTimeout(()=>{this.showSuccessMessage=!1,this.router.navigate(["/login"])},3e3)}catch(a){console.error("Error al crear la cuenta:",a),this.showErrorMessage=!0,setTimeout(()=>{this.showErrorMessage=!1},3e3)}finally{this.isLoading=!1}}})}resetForm(){this.accountData={firstName:"",lastName:"",email:"",phone:"",username:"",password:""}}goBack(){this.router.navigate(["/"])}static \u0275fac=function(a){return new(a||c)(w(O),w(k),w(V))};static \u0275cmp=C({type:c,selectors:[["app-regist"]],decls:44,vars:11,consts:[["form","ngForm"],[1,"container"],[1,"card"],["src","icons/logo_Repo.png","alt","Logo de la Aplicaci\xF3n",1,"app-logo"],[1,"card-header"],[1,"card-body"],["class","error-message",4,"ngIf"],["class","success-message",4,"ngIf"],[3,"ngSubmit"],["type","text","name","firstName","required","",3,"ngModelChange","ngModel"],["type","text","name","lastName","required","",3,"ngModelChange","ngModel"],["type","email","name","email","required","",3,"ngModelChange","ngModel"],["type","tel","name","phone","required","",3,"ngModelChange","ngModel"],["type","text","name","username","required","",3,"ngModelChange","ngModel"],["name","password","required","",3,"ngModelChange","type","ngModel"],[1,"show-password"],["type","checkbox",3,"change"],[1,"button-group"],["type","submit",3,"disabled"],["type","button",1,"back-button",3,"click"],[1,"login-link"],["routerLink","/"],[1,"error-message"],[1,"success-message"]],template:function(a,e){if(a&1){let r=P();n(0,"div",1)(1,"div",2),x(2,"img",3),n(3,"div",4),i(4,"Registro de Usuario"),o(),n(5,"div",5)(6,"p"),i(7,"Complete los datos para registrarse"),o(),y(8,z,2,0,"div",6)(9,A,2,0,"div",7),n(10,"form",8,0),_("ngSubmit",function(){l(r);let t=b(11);return d(e.onSubmit(t))}),n(12,"label"),i(13,"Nombre"),o(),n(14,"input",9),u("ngModelChange",function(t){return l(r),p(e.accountData.firstName,t)||(e.accountData.firstName=t),d(t)}),o(),n(15,"label"),i(16,"Apellido"),o(),n(17,"input",10),u("ngModelChange",function(t){return l(r),p(e.accountData.lastName,t)||(e.accountData.lastName=t),d(t)}),o(),n(18,"label"),i(19,"Correo electr\xF3nico"),o(),n(20,"input",11),u("ngModelChange",function(t){return l(r),p(e.accountData.email,t)||(e.accountData.email=t),d(t)}),o(),n(21,"label"),i(22,"Tel\xE9fono"),o(),n(23,"input",12),u("ngModelChange",function(t){return l(r),p(e.accountData.phone,t)||(e.accountData.phone=t),d(t)}),o(),n(24,"label"),i(25,"Usuario"),o(),n(26,"input",13),u("ngModelChange",function(t){return l(r),p(e.accountData.username,t)||(e.accountData.username=t),d(t)}),o(),n(27,"label"),i(28,"Contrase\xF1a"),o(),n(29,"input",14),u("ngModelChange",function(t){return l(r),p(e.accountData.password,t)||(e.accountData.password=t),d(t)}),o(),n(30,"div",15)(31,"label")(32,"input",16),_("change",function(){return l(r),d(e.togglePasswordVisibility())}),o(),i(33," Mostrar contrase\xF1a "),o()(),n(34,"div",17)(35,"button",18),i(36),o(),n(37,"button",19),_("click",function(){return l(r),d(e.goBack())}),i(38," Volver "),o()()(),n(39,"div",20)(40,"p"),i(41,"\xBFYa tiene una cuenta? "),n(42,"a",21),i(43,"Iniciar sesi\xF3n"),o()()()()()()}if(a&2){let r=b(11);s(8),h("ngIf",e.showErrorMessage),s(),h("ngIf",e.showSuccessMessage),s(5),m("ngModel",e.accountData.firstName),s(3),m("ngModel",e.accountData.lastName),s(3),m("ngModel",e.accountData.email),s(3),m("ngModel",e.accountData.phone),s(3),m("ngModel",e.accountData.username),s(3),h("type",e.showPassword?"text":"password"),m("ngModel",e.accountData.password),s(6),h("disabled",r.invalid||e.isLoading),s(),S(" ",e.isLoading?"Registrando...":"Registrar"," ")}},dependencies:[E,D,q,B,T,W,F,U,I,L],styles:[`@charset "UTF-8";.container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f5f5f5}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a;width:400px;max-width:90%;overflow:hidden}.app-logo[_ngcontent-%COMP%]{display:block;margin:20px auto;width:80px;height:80px;object-fit:contain}.card-header[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff;padding:15px;text-align:center;font-size:1.2em;border-bottom:1px solid #ddd}.card-body[_ngcontent-%COMP%]{padding:20px}.card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#777;margin-bottom:15px;text-align:center}.error-message[_ngcontent-%COMP%]{color:#fff;padding:10px;margin-bottom:15px;border-radius:4px;text-align:center;background-color:#f44336}.success-message[_ngcontent-%COMP%]{color:#fff;padding:10px;margin-bottom:15px;border-radius:4px;text-align:center;background-color:#4caf50}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:#333;font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=tel][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:calc(100% - 22px);padding:10px;margin-bottom:15px;border:1px solid #ddd;border-radius:4px;box-sizing:border-box;font-size:1em}.show-password[_ngcontent-%COMP%]{margin-bottom:15px;display:flex;align-items:center}.show-password[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:400;margin-left:5px}.button-group[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:20px}button[type=submit][_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-size:1em;transition:background-color .3s;background-color:#2196f3;color:#fff;flex-grow:1}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#1976d2}button[type=submit][_ngcontent-%COMP%]:disabled{background-color:#90caf9;cursor:not-allowed}.back-button[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-size:1em;transition:background-color .3s;background-color:#e0e0e0;color:#333}.back-button[_ngcontent-%COMP%]:hover{background-color:#bdbdbd}.login-link[_ngcontent-%COMP%]{text-align:center;margin-top:20px;color:#777}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2196f3;text-decoration:none}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 600px){.card[_ngcontent-%COMP%]{margin:20px}}
/*# sourceMappingURL=regist.component-J7T53FTD.css.map */`]})}return c})();export{te as RegistComponent};
//# sourceMappingURL=chunk-4DZCY6EV.js.map
