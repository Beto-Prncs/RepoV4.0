import{b as K}from"./chunk-YHUUCUOD.js";import{a as J}from"./chunk-OCY2QGUF.js";import{d as T,e as S,f as E}from"./chunk-OOODTXWG.js";import"./chunk-RT2AZM63.js";import"./chunk-NOIAGMWN.js";import{s as q}from"./chunk-KJJQOZ7I.js";import{L as A,R as Y,S as Z,y as N}from"./chunk-SLGRDKNT.js";import{k as G,q as B,u as H}from"./chunk-ZX2O5KE6.js";import{Ab as p,B as R,Bb as b,Eb as f,Fb as s,Mb as c,Nb as v,Ob as C,Pa as z,Q as L,Ta as r,Z as x,a as V,bb as I,ga as k,gb as M,ha as P,ia as _,ja as h,n as F,ob as j,rb as w,tb as d,wb as W,xb as $,yb as i,zb as o}from"./chunk-ISKDQYGU.js";import{a as U,b as D,g as O}from"./chunk-OIKEWKHE.js";var Q=(e,l)=>l.IdReporte;function X(e,l){if(e&1&&(i(0,"div",5),_(),i(1,"svg",11),p(2,"circle",12)(3,"line",13)(4,"line",14),o(),c(5),o()),e&2){let t=s();r(5),C(" ",t.errorMessage," ")}}function tt(e,l){if(e&1&&(i(0,"div",6),_(),i(1,"svg",11),p(2,"path",15)(3,"polyline",16),o(),c(4),o()),e&2){let t=s();r(4),C(" ",t.successMessage," ")}}function et(e,l){e&1&&(i(0,"div",7),p(1,"div",17),i(2,"p"),c(3,"Cargando reportes completados..."),o()())}function nt(e,l){e&1&&(i(0,"div",8)(1,"div",18),_(),i(2,"svg",19),p(3,"path",20)(4,"line",21)(5,"line",22),o(),h(),i(6,"p"),c(7,"No hay reportes completados."),o()()())}function ot(e,l){if(e&1&&(i(0,"p",29)(1,"strong"),c(2,"Ubicaci\xF3n:"),o(),c(3),o()),e&2){let t=s().$implicit;r(3),C(" ",t.location," ")}}function at(e,l){if(e&1&&(i(0,"span",47),c(1),o()),e&2){let t=s().$implicit,n=s(2);w(n.getPriorityClass(t.priority)),r(),C(" ",t.priority," ")}}function it(e,l){if(e&1){let t=b();i(0,"span",48),f("click",function(a){k(t);let g=s().$implicit,m=s(2);return P(m.openPdfViewer(g,a))}),_(),i(1,"svg",49),p(2,"path",50)(3,"polyline",51)(4,"line",52)(5,"line",53)(6,"polyline",54),o(),c(7," PDF "),o()}}function rt(e,l){if(e&1){let t=b();i(0,"span",55),f("click",function(a){k(t);let g=s().$implicit,m=s(2);return P(m.openPdfViewer(g,a))}),_(),i(1,"svg",49),p(2,"rect",56)(3,"circle",57)(4,"polyline",58),o(),c(5),o()}if(e&2){let t=s().$implicit;r(5),C(" Fotos (",t.evidenceImages.length,") ")}}function ct(e,l){if(e&1&&(i(0,"p",35)(1,"strong"),c(2,"Departamento:"),o(),c(3),o()),e&2){let t=s().$implicit;r(3),C(" ",t.departamento," ")}}function st(e,l){if(e&1&&(i(0,"div",36)(1,"strong"),c(2,"Descripci\xF3n del trabajo:"),o(),i(3,"p"),c(4),o()()),e&2){let t=s().$implicit;r(4),v(t.descripcionCompletado)}}function lt(e,l){if(e&1&&(i(0,"div",37)(1,"strong"),c(2,"Materiales utilizados:"),o(),i(3,"p"),c(4),o()()),e&2){let t=s().$implicit;r(4),v(t.materialesUtilizados)}}function dt(e,l){if(e&1){let t=b();i(0,"div",23)(1,"div",24)(2,"h3"),c(3),o(),i(4,"span",25),c(5),o()(),i(6,"div",26)(7,"div",27)(8,"p",28)(9,"strong"),c(10,"Descripci\xF3n:"),o(),c(11),o(),M(12,ot,4,1,"p",29),i(13,"div",30)(14,"span",31),c(15),o(),M(16,at,2,3,"span",32)(17,it,8,0,"span",33)(18,rt,6,1,"span",34),o(),M(19,ct,4,1,"p",35),o(),M(20,st,5,1,"div",36)(21,lt,5,1,"div",37),i(22,"div",38)(23,"button",39),f("click",function(a){let g=k(t).$implicit,m=s(2);return P(m.openPdfViewer(g,a))}),_(),i(24,"svg",40),p(25,"path",41)(26,"circle",42),o(),c(27," Ver PDF "),o(),h(),i(28,"button",43),f("click",function(a){let g=k(t).$implicit,m=s(2);return P(m.startDownload(g,a))}),_(),i(29,"svg",40),p(30,"path",44)(31,"polyline",45)(32,"line",46),o(),c(33," Descargar PDF "),o()()()()}if(e&2){let t=l.$implicit,n=s(2);r(3),v(t.Tipo_Trabajo),r(2),C("Completado: ",n.formatDate(t.fechaCompletado||t.fecha),""),r(6),C(" ",t.jobDescription," "),r(),d(t.location?12:-1),r(2),w(n.getStatusClass(t.estado)),r(),C(" ",t.estado," "),r(),d(t.priority?16:-1),r(),d(t.pdfUrl||t.reporteGenerado?17:-1),r(),d(t.evidenceImages&&t.evidenceImages.length>0?18:-1),r(),d(t.departamento?19:-1),r(),d(t.descripcionCompletado?20:-1),r(),d(t.materialesUtilizados?21:-1)}}function gt(e,l){if(e&1&&(i(0,"div",9),W(1,dt,34,13,"div",23,Q),o()),e&2){let t=s();r(),$(t.completedTasks)}}function pt(e,l){if(e&1&&p(0,"iframe",65),e&2){let t=s(2);j("src",t.pdfUrl,z)}}function mt(e,l){e&1&&(i(0,"div",66),p(1,"div",17),i(2,"p"),c(3,"Cargando PDF..."),o()())}function _t(e,l){if(e&1){let t=b();i(0,"div",10)(1,"div",59)(2,"div",60)(3,"h3"),c(4),o(),i(5,"button",61),f("click",function(){k(t);let a=s();return P(a.closePdfViewer())}),_(),i(6,"svg",2),p(7,"line",62)(8,"line",63),o()()(),h(),i(9,"div",64),M(10,pt,1,1,"iframe",65)(11,mt,4,0,"div",66),o(),i(12,"div",67)(13,"button",68),f("click",function(){k(t);let a=s();return P(a.closePdfViewer())}),c(14,"Cerrar"),o(),i(15,"button",69),f("click",function(a){k(t);let g=s();return P(g.startDownload(g.selectedReport,a))}),c(16,"Descargar PDF"),o()()()()}if(e&2){let t=s();r(4),v(t.selectedReport==null?null:t.selectedReport.Tipo_Trabajo),r(6),d(t.pdfUrl?10:-1),r(),d(t.pdfUrl?-1:11)}}var St=(()=>{class e{firestore=x(A);auth=x(N);router=x(H);taskService=x(J);sanitizer=x(B);completedTasks=[];currentUser=null;isLoading=!0;errorMessage="";successMessage="";showPdfViewer=!1;pdfUrl=null;selectedReport=null;subscriptions=[];ngOnInit(){this.setupAuthListener()}ngOnDestroy(){this.subscriptions.forEach(t=>{t&&t.unsubscribe()}),this.pdfUrl&&this.revokeObjectURL(this.pdfUrl)}revokeObjectURL(t){try{let a=t.toString().match(/blob:http[^"']+/);a&&a[0]&&URL.revokeObjectURL(a[0])}catch(n){console.error("Error al revocar URL:",n)}}setupAuthListener(){let t=this.auth.onAuthStateChanged(n=>O(this,null,function*(){if(n){console.log("Usuario autenticado:",n.email);try{yield this.loadUserData(n.uid)}catch(a){console.error("Error en la inicializaci\xF3n:",a),this.errorMessage="Error al cargar los datos del usuario"}}else console.log("No hay usuario autenticado"),this.router.navigate(["/login"])}));t&&this.subscriptions.push(new V(()=>t()))}loadUserData(t){return O(this,null,function*(){try{console.log("Cargando datos del usuario:",t);let n=yield Z(Y(this.firestore,"Usuario",t));if(n.exists())if(this.currentUser=D(U({},n.data()),{IdUsuario:t}),console.log("Datos de usuario cargados:",this.currentUser),this.currentUser.IdUsuario)this.loadCompletedReportes(this.currentUser.IdUsuario);else throw new Error("Usuario sin ID v\xE1lido");else throw new Error("No se encontr\xF3 el documento del usuario")}catch(n){console.error("Error al cargar datos del usuario:",n),this.errorMessage="Error al cargar los datos del usuario",this.isLoading=!1}})}loadCompletedReportes(t){this.isLoading=!0,this.errorMessage="";let n=this.taskService.getCompletedReportesByWorker(t).pipe(L(a=>{console.log("Reportes completados recibidos:",a),this.completedTasks=a,this.isLoading=!1}),R(a=>(console.error("Error al cargar reportes completados:",a),this.errorMessage="Error al cargar los reportes completados",this.isLoading=!1,F([])))).subscribe();this.subscriptions.push(n)}goBack(){this.router.navigate(["/worker"])}formatDate(t){if(!t)return"Fecha no disponible";try{return t&&typeof t=="object"&&"seconds"in t&&(t=new Date(t.seconds*1e3)),(t instanceof Date?t:new Date(t)).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})}catch(n){return console.error("Error al formatear fecha:",n),"Fecha inv\xE1lida"}}getStatusClass(t){switch(t?.toLowerCase()){case"completado":return"completed";case"pendiente":return"pending";default:return"default"}}getPriorityClass(t){switch(t?.toLowerCase()){case"alta":return"high";case"media":return"medium";case"baja":return"low";default:return"default"}}openPdfViewer(t,n){if(n&&(n.preventDefault(),n.stopPropagation()),this.isLoading=!0,this.selectedReport=t,this.showPdfViewer=!0,t.pdfUrl)try{this.pdfUrl=this.sanitizer.bypassSecurityTrustResourceUrl(t.pdfUrl),this.isLoading=!1}catch(a){console.error("Error al cargar URL del PDF:",a),this.loadPdfFromStorage(t)}else this.loadPdfFromStorage(t)}loadPdfFromStorage(t){return O(this,null,function*(){if(!t.IdReporte){this.errorMessage="ID de reporte no disponible",this.closePdfViewer();return}try{let n=S(),a=`reportes_pdf/${t.IdReporte}.pdf`,g=E(n,a),m=yield T(g);if(this.pdfUrl=this.sanitizer.bypassSecurityTrustResourceUrl(m),!t.pdfUrl)try{yield this.taskService.updateReporteWithPdfInfo(t.IdReporte,m),console.log("URL de PDF actualizada en el reporte")}catch(y){console.error("Error al actualizar URL de PDF en el reporte:",y)}}catch(n){console.error("Error al cargar PDF desde Storage:",n),this.errorMessage="No se pudo cargar el PDF. El archivo podr\xEDa no existir.",setTimeout(()=>this.errorMessage="",5e3)}finally{this.isLoading=!1}})}closePdfViewer(){this.pdfUrl&&(this.revokeObjectURL(this.pdfUrl),this.pdfUrl=null),this.showPdfViewer=!1,this.selectedReport=null}startDownload(t,n){return O(this,null,function*(){if(n&&(n.preventDefault(),n.stopPropagation()),!t.IdReporte){this.errorMessage="ID de reporte no disponible";return}try{this.isLoading=!0;let a=S(),g=`reportes_pdf/${t.IdReporte}.pdf`,m=E(a,g),y=yield T(m),u=document.createElement("a");u.href=y,u.download=`Reporte_${t.Tipo_Trabajo.replace(/\s+/g,"_")}.pdf`,document.body.appendChild(u),u.click(),document.body.removeChild(u),this.successMessage="Descarga iniciada correctamente",setTimeout(()=>this.successMessage="",3e3)}catch(a){console.error("Error al descargar PDF:",a),this.errorMessage="Error al descargar el PDF",setTimeout(()=>this.errorMessage="",5e3)}finally{this.isLoading=!1}})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=I({type:e,selectors:[["app-worker-completetask"]],decls:14,vars:6,consts:[[1,"tasks-container"],["type","button",1,"btn-back",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x1","19","y1","12","x2","5","y2","12"],["points","12 19 5 12 12 5"],[1,"alert","alert-error"],[1,"alert","alert-success"],[1,"loading-state"],[1,"no-tasks"],[1,"tasks-grid"],[1,"pdf-modal-overlay"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"alert-icon"],["cx","12","cy","12","r","10"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],["d","M22 11.08V12a10 10 0 1 1-5.93-9.14"],["points","22 4 12 14.01 9 11.01"],[1,"spinner"],[1,"empty-state"],["xmlns","http://www.w3.org/2000/svg","width","64","height","64","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1","stroke-linecap","round","stroke-linejoin","round"],["d","M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"],["x1","12","y1","11","x2","12","y2","17"],["x1","9","y1","14","x2","15","y2","14"],[1,"task-card"],[1,"task-header"],[1,"task-date"],[1,"task-content"],[1,"task-info"],[1,"task-description"],[1,"task-location"],[1,"task-tags"],[1,"status-badge"],[1,"priority-badge",3,"class"],["title","PDF disponible",1,"pdf-badge"],["title","Contiene evidencias fotogr\xE1ficas",1,"evidence-badge"],[1,"task-department"],[1,"completion-description"],[1,"materials-description"],[1,"task-actions"],["type","button",1,"btn-view-pdf",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"],["cx","12","cy","12","r","3"],["type","button",1,"btn-download-pdf",3,"click"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7 10 12 15 17 10"],["x1","12","y1","15","x2","12","y2","3"],[1,"priority-badge"],["title","PDF disponible",1,"pdf-badge",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"],["points","14 2 14 8 20 8"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["points","10 9 9 9 8 9"],["title","Contiene evidencias fotogr\xE1ficas",1,"evidence-badge",3,"click"],["x","3","y","3","width","18","height","18","rx","2","ry","2"],["cx","8.5","cy","8.5","r","1.5"],["points","21 15 16 10 5 21"],[1,"pdf-modal"],[1,"modal-header"],["type","button",1,"btn-close",3,"click"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"modal-body"],["width","100%","height","100%","frameborder","0",3,"src"],[1,"pdf-loading"],[1,"modal-footer"],["type","button",1,"btn-cancel",3,"click"],["type","button",1,"btn-download",3,"click"]],template:function(n,a){n&1&&(i(0,"div",0)(1,"button",1),f("click",function(){return a.goBack()}),_(),i(2,"svg",2),p(3,"line",3)(4,"polyline",4),o(),c(5," Atr\xE1s "),o(),h(),i(6,"h2"),c(7,"Reportes Completados"),o(),M(8,X,6,1,"div",5)(9,tt,5,1,"div",6)(10,et,4,0,"div",7)(11,nt,8,0,"div",8)(12,gt,3,0,"div",9)(13,_t,17,3,"div",10),o()),n&2&&(r(8),d(a.errorMessage?8:-1),r(),d(a.successMessage?9:-1),r(),d(a.isLoading?10:-1),r(),d(!a.isLoading&&a.completedTasks.length===0?11:-1),r(),d(!a.isLoading&&a.completedTasks.length>0?12:-1),r(),d(a.showPdfViewer?13:-1))},dependencies:[G,q,K],styles:[`[_nghost-%COMP%]{--primary-color: #3b82f6;--primary-hover: #2563eb;--error-color: #ef4444;--success-color: #10b981;--warning-color: #f59e0b;--text-color: #374151;--text-light: #6b7280;--border-color: #e5e7eb;--card-bg: #ffffff;--bg-color: #f9fafb;--shadow: 0 1px 3px 0 rgba(0, 0, 0, .1), 0 1px 2px 0 rgba(0, 0, 0, .06);--badge-bg: #ebf5ff;--badge-text: #3b82f6;--status-completed: #10b981;--status-pending: #f59e0b;--status-default: #6b7280;--priority-high: #ef4444;--priority-medium: #f59e0b;--priority-low: #10b981}.tasks-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;background-color:var(--bg-color);min-height:100vh}.tasks-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--text-color);margin-bottom:24px;font-size:1.5rem;font-weight:600}.btn-back[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;background:transparent;border:none;color:var(--text-color);padding:8px 12px;border-radius:6px;font-size:.875rem;font-weight:500;cursor:pointer;margin-bottom:16px;transition:all .2s ease}.btn-back[_ngcontent-%COMP%]:hover{background-color:#0000000d}.btn-back[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:6px;margin-bottom:20px;display:flex;align-items:center;gap:12px}.alert.alert-error[_ngcontent-%COMP%]{background-color:#ef44441a;border-left:4px solid var(--error-color);color:var(--error-color)}.alert.alert-success[_ngcontent-%COMP%]{background-color:#10b9811a;border-left:4px solid var(--success-color);color:var(--success-color)}.alert[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{flex-shrink:0;width:20px;height:20px}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 0}.loading-state[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid rgba(59,130,246,.2);border-top-color:var(--primary-color);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite;margin-bottom:16px}.loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-light);font-size:.875rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.no-tasks[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:300px}.no-tasks[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:400px}.no-tasks[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--text-light);margin-bottom:16px;opacity:.5}.no-tasks[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-light);font-size:1rem}.tasks-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:20px;margin-top:20px}.task-card[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:8px;box-shadow:var(--shadow);overflow:hidden;transition:transform .2s ease,box-shadow .2s ease}.task-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.task-card[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:flex-start}.task-card[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;font-weight:600;color:var(--text-color)}.task-card[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]   .task-date[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-light);white-space:nowrap}.task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]{padding:16px}.task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]{margin-bottom:16px}.task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;font-size:.9rem;color:var(--text-color);line-height:1.5}.task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin:12px 0}.task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-tags[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%], .task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-tags[_ngcontent-%COMP%]   .priority-badge[_ngcontent-%COMP%], .task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-tags[_ngcontent-%COMP%]   .pdf-badge[_ngcontent-%COMP%], .task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-tags[_ngcontent-%COMP%]   .evidence-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 8px;border-radius:4px;font-size:.75rem;font-weight:500}.task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-tags[_ngcontent-%COMP%]   .status-badge.completed[_ngcontent-%COMP%]{background-color:#10b9811a;color:var(--status-completed)}.task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-tags[_ngcontent-%COMP%]   .status-badge.pending[_ngcontent-%COMP%]{background-color:#f59e0b1a;color:var(--status-pending)}.task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-tags[_ngcontent-%COMP%]   .status-badge.default[_ngcontent-%COMP%]{background-color:#6b72801a;color:var(--status-default)}.task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-tags[_ngcontent-%COMP%]   .priority-badge.high[_ngcontent-%COMP%]{background-color:#ef44441a;color:var(--priority-high)}.task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-tags[_ngcontent-%COMP%]   .priority-badge.medium[_ngcontent-%COMP%]{background-color:#f59e0b1a;color:var(--priority-medium)}.task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-tags[_ngcontent-%COMP%]   .priority-badge.low[_ngcontent-%COMP%]{background-color:#10b9811a;color:var(--priority-low)}.task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-tags[_ngcontent-%COMP%]   .priority-badge.default[_ngcontent-%COMP%]{background-color:#6b72801a;color:var(--status-default)}.task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-tags[_ngcontent-%COMP%]   .pdf-badge[_ngcontent-%COMP%], .task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-tags[_ngcontent-%COMP%]   .evidence-badge[_ngcontent-%COMP%]{background-color:#3b82f61a;color:var(--primary-color);cursor:pointer;transition:all .2s ease}.task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-tags[_ngcontent-%COMP%]   .pdf-badge[_ngcontent-%COMP%]:hover, .task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-tags[_ngcontent-%COMP%]   .evidence-badge[_ngcontent-%COMP%]:hover{background-color:#3b82f633}.task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-tags[_ngcontent-%COMP%]   .pdf-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-tags[_ngcontent-%COMP%]   .evidence-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}.task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-tags[_ngcontent-%COMP%]   .evidence-badge[_ngcontent-%COMP%]{background-color:#10b9811a;color:var(--status-completed)}.task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-tags[_ngcontent-%COMP%]   .evidence-badge[_ngcontent-%COMP%]:hover{background-color:#10b98133}.task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .completion-description[_ngcontent-%COMP%], .task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .materials-description[_ngcontent-%COMP%]{margin:16px 0;padding:12px;background-color:#3b82f60d;border-radius:6px}.task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .completion-description[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .materials-description[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-size:.9rem;color:var(--text-color)}.task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .completion-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .materials-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:var(--text-color);line-height:1.5}.task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .materials-description[_ngcontent-%COMP%]{background-color:#10b9810d}.task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-actions[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:20px}.task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:10px 16px;border-radius:6px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;border:none}.task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-actions[_ngcontent-%COMP%]   button.btn-view-pdf[_ngcontent-%COMP%]{background-color:var(--badge-bg);color:var(--primary-color)}.task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-actions[_ngcontent-%COMP%]   button.btn-view-pdf[_ngcontent-%COMP%]:hover{background-color:#3b82f633}.task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-actions[_ngcontent-%COMP%]   button.btn-download-pdf[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff}.task-card[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .task-actions[_ngcontent-%COMP%]   button.btn-download-pdf[_ngcontent-%COMP%]:hover{background-color:var(--primary-hover)}.pdf-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.pdf-modal-overlay[_ngcontent-%COMP%]   .pdf-modal[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 10px 25px -5px #0000001a,0 10px 10px -5px #0000000a;width:90%;max-width:1000px;height:90vh;display:flex;flex-direction:column;overflow:hidden}.pdf-modal-overlay[_ngcontent-%COMP%]   .pdf-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid var(--border-color)}.pdf-modal-overlay[_ngcontent-%COMP%]   .pdf-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;color:var(--text-color)}.pdf-modal-overlay[_ngcontent-%COMP%]   .pdf-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;padding:4px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s ease}.pdf-modal-overlay[_ngcontent-%COMP%]   .pdf-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background-color:#0000000d}.pdf-modal-overlay[_ngcontent-%COMP%]   .pdf-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:var(--text-light)}.pdf-modal-overlay[_ngcontent-%COMP%]   .pdf-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{flex:1;overflow:hidden;position:relative}.pdf-modal-overlay[_ngcontent-%COMP%]   .pdf-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{border:none;width:100%;height:100%}.pdf-modal-overlay[_ngcontent-%COMP%]   .pdf-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .pdf-loading[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#ffffffe6}.pdf-modal-overlay[_ngcontent-%COMP%]   .pdf-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .pdf-loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid rgba(59,130,246,.2);border-top-color:var(--primary-color);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite;margin-bottom:16px}.pdf-modal-overlay[_ngcontent-%COMP%]   .pdf-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .pdf-loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-light);font-size:.875rem}.pdf-modal-overlay[_ngcontent-%COMP%]   .pdf-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:16px 20px;border-top:1px solid var(--border-color);display:flex;justify-content:flex-end;gap:12px}.pdf-modal-overlay[_ngcontent-%COMP%]   .pdf-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease}.pdf-modal-overlay[_ngcontent-%COMP%]   .pdf-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.btn-cancel[_ngcontent-%COMP%]{background-color:transparent;color:var(--text-color);border:1px solid var(--border-color)}.pdf-modal-overlay[_ngcontent-%COMP%]   .pdf-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.btn-cancel[_ngcontent-%COMP%]:hover{background-color:#0000000d}.pdf-modal-overlay[_ngcontent-%COMP%]   .pdf-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.btn-download[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff;border:none;display:inline-flex;align-items:center;gap:8px}.pdf-modal-overlay[_ngcontent-%COMP%]   .pdf-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.btn-download[_ngcontent-%COMP%]:hover{background-color:var(--primary-hover)}.pdf-modal-overlay[_ngcontent-%COMP%]   .pdf-modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button.btn-download[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}@media screen and (max-width: 768px){.tasks-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.pdf-modal[_ngcontent-%COMP%]{width:95%!important;height:95vh!important}.task-card[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]{flex-direction:column;gap:8px}.task-card[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]   .task-date[_ngcontent-%COMP%]{align-self:flex-start}}.spinner-small[_ngcontent-%COMP%]{display:inline-block;width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite;margin-right:8px}
/*# sourceMappingURL=worker-completetask.component-ZIDNFNG7.css.map */`]})}return e})();export{St as WorkerCompleteTaskComponent};
//# sourceMappingURL=chunk-ANRFCAQ4.js.map
