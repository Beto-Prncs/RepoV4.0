{
  "version": 3,
  "sources": ["src/app/services/simple-modal.service.ts"],
  "sourcesContent": ["import { Injectable, Renderer2, RendererFactory2, inject } from '@angular/core';\n\nexport interface ModalOptions {\n  title: string;\n  message: string;\n  okText?: string;\n  cancelText?: string | null;\n  onOk?: () => void;\n  onCancel?: () => void;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SimpleModalService {\n  private renderer: Renderer2;\n  private modalElement: HTMLElement | null = null;\n  private backdropElement: HTMLElement | null = null;\n\n  constructor(private rendererFactory: RendererFactory2) {\n    this.renderer = this.rendererFactory.createRenderer(null, null);\n  }\n\n  /**\n   * Muestra un diálogo modal simple\n   */\n  showModal(options: ModalOptions): void {\n    // Limpiar modal anterior si existe\n    this.closeModal();\n    \n    // Crear el backdrop\n    this.backdropElement = this.renderer.createElement('div');\n    this.renderer.addClass(this.backdropElement, 'fixed');\n    this.renderer.addClass(this.backdropElement, 'inset-0');\n    this.renderer.addClass(this.backdropElement, 'bg-black/50');\n    this.renderer.addClass(this.backdropElement, 'backdrop-blur-sm');\n    this.renderer.addClass(this.backdropElement, 'z-50');\n    this.renderer.setStyle(this.backdropElement, 'animation', 'fadeIn 0.3s');\n    \n    // Crear el modal\n    this.modalElement = this.renderer.createElement('div');\n    this.renderer.addClass(this.modalElement, 'fixed');\n    this.renderer.addClass(this.modalElement, 'left-1/2');\n    this.renderer.addClass(this.modalElement, 'top-1/2');\n    this.renderer.addClass(this.modalElement, '-translate-x-1/2');\n    this.renderer.addClass(this.modalElement, '-translate-y-1/2');\n    this.renderer.addClass(this.modalElement, 'bg-white');\n    this.renderer.addClass(this.modalElement, 'rounded-xl');\n    this.renderer.addClass(this.modalElement, 'p-6');\n    this.renderer.addClass(this.modalElement, 'shadow-xl');\n    this.renderer.addClass(this.modalElement, 'w-11/12');\n    this.renderer.addClass(this.modalElement, 'max-w-md');\n    this.renderer.addClass(this.modalElement, 'z-50');\n    this.renderer.setStyle(this.modalElement, 'animation', 'zoomIn 0.3s');\n    \n    // Título\n    const title = this.renderer.createElement('h3');\n    this.renderer.addClass(title, 'text-xl');\n    this.renderer.addClass(title, 'font-bold');\n    this.renderer.addClass(title, 'text-indigo-900');\n    this.renderer.addClass(title, 'mb-3');\n    this.renderer.appendChild(title, this.renderer.createText(options.title));\n    this.renderer.appendChild(this.modalElement, title);\n    \n    // Mensaje\n    const message = this.renderer.createElement('p');\n    this.renderer.addClass(message, 'text-gray-700');\n    this.renderer.addClass(message, 'mb-6');\n    this.renderer.appendChild(message, this.renderer.createText(options.message));\n    this.renderer.appendChild(this.modalElement, message);\n    \n    // Contenedor de botones\n    const buttonContainer = this.renderer.createElement('div');\n    this.renderer.addClass(buttonContainer, 'flex');\n    this.renderer.addClass(buttonContainer, 'justify-end');\n    this.renderer.addClass(buttonContainer, 'gap-3');\n    \n    // Botón de cancelar (opcional)\n    if (options.cancelText !== null) {\n      const cancelButton = this.renderer.createElement('button');\n      this.renderer.addClass(cancelButton, 'px-4');\n      this.renderer.addClass(cancelButton, 'py-2');\n      this.renderer.addClass(cancelButton, 'border');\n      this.renderer.addClass(cancelButton, 'border-gray-300');\n      this.renderer.addClass(cancelButton, 'rounded-lg');\n      this.renderer.addClass(cancelButton, 'text-gray-700');\n      this.renderer.addClass(cancelButton, 'hover:bg-gray-50');\n      this.renderer.addClass(cancelButton, 'transition-colors');\n      this.renderer.appendChild(cancelButton, this.renderer.createText(options.cancelText || 'Cancelar'));\n      \n      this.renderer.listen(cancelButton, 'click', () => {\n        this.closeModal();\n        if (options.onCancel) {\n          options.onCancel();\n        }\n      });\n      \n      this.renderer.appendChild(buttonContainer, cancelButton);\n    }\n    \n    // Botón de confirmar\n    const okButton = this.renderer.createElement('button');\n    this.renderer.addClass(okButton, 'px-4');\n    this.renderer.addClass(okButton, 'py-2');\n    this.renderer.addClass(okButton, 'bg-indigo-900');\n    this.renderer.addClass(okButton, 'text-white');\n    this.renderer.addClass(okButton, 'rounded-lg');\n    this.renderer.addClass(okButton, 'hover:bg-indigo-800');\n    this.renderer.addClass(okButton, 'transition-colors');\n    this.renderer.appendChild(okButton, this.renderer.createText(options.okText || 'Aceptar'));\n    \n    this.renderer.listen(okButton, 'click', () => {\n      this.closeModal();\n      if (options.onOk) {\n        options.onOk();\n      }\n    });\n    \n    this.renderer.appendChild(buttonContainer, okButton);\n    this.renderer.appendChild(this.modalElement, buttonContainer);\n    \n    // Agregar a DOM\n    this.renderer.appendChild(document.body, this.backdropElement);\n    this.renderer.appendChild(document.body, this.modalElement);\n    \n    // Agregar estilos para animaciones\n    const style = this.renderer.createElement('style');\n    this.renderer.appendChild(\n      style,\n      this.renderer.createText(`\n        @keyframes fadeIn {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n        @keyframes zoomIn {\n          from { opacity: 0; transform: translate(-50%, -50%) scale(0.95); }\n          to { opacity: 1; transform: translate(-50%, -50%) scale(1); }\n        }\n        @keyframes fadeOut {\n          from { opacity: 1; }\n          to { opacity: 0; }\n        }\n        @keyframes zoomOut {\n          from { opacity: 1; transform: translate(-50%, -50%) scale(1); }\n          to { opacity: 0; transform: translate(-50%, -50%) scale(0.95); }\n        }\n      `)\n    );\n    this.renderer.appendChild(document.head, style);\n    \n    // Detectar tecla ESC para cerrar\n    const escHandler = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        document.removeEventListener('keydown', escHandler);\n        this.closeModal();\n        if (options.onCancel) {\n          options.onCancel();\n        }\n      }\n    };\n    \n    document.addEventListener('keydown', escHandler);\n    \n    // Clic en backdrop para cerrar\n    if (this.backdropElement) {\n      this.renderer.listen(this.backdropElement, 'click', () => {\n        document.removeEventListener('keydown', escHandler);\n        this.closeModal();\n        if (options.onCancel) {\n          options.onCancel();\n        }\n      });\n    }\n  }\n\n  /**\n   * Muestra un diálogo de confirmación\n   */\n  confirm(title: string, message: string, okCallback?: () => void, cancelCallback?: () => void): void {\n    this.showModal({\n      title,\n      message,\n      okText: 'Aceptar',\n      cancelText: 'Cancelar',\n      onOk: okCallback,\n      onCancel: cancelCallback\n    });\n  }\n\n  /**\n   * Muestra un mensaje de alerta\n   */\n  alert(title: string, message: string, callback?: () => void): void {\n    this.showModal({\n      title,\n      message,\n      okText: 'Aceptar',\n      cancelText: null, // Sin botón de cancelar\n      onOk: callback\n    });\n  }\n\n  /**\n   * Cierra el modal actual\n   */\n  closeModal(): void {\n    if (this.modalElement) {\n      this.renderer.setStyle(this.modalElement, 'animation', 'zoomOut 0.2s');\n    }\n    \n    if (this.backdropElement) {\n      this.renderer.setStyle(this.backdropElement, 'animation', 'fadeOut 0.2s');\n    }\n    \n    // Remover elementos después de la animación\n    setTimeout(() => {\n      if (this.modalElement) {\n        this.renderer.removeChild(document.body, this.modalElement);\n        this.modalElement = null;\n      }\n      \n      if (this.backdropElement) {\n        this.renderer.removeChild(document.body, this.backdropElement);\n        this.backdropElement = null;\n      }\n    }, 200);\n  }\n}"],
  "mappings": "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",
  "names": ["SimpleModalService", "rendererFactory", "renderer", "modalElement", "backdropElement", "constructor", "createRenderer", "showModal", "options", "closeModal", "createElement", "addClass", "setStyle", "title", "appendChild", "createText", "message", "buttonContainer", "cancelText", "cancelButton", "listen", "onCancel", "okButton", "okText", "onOk", "document", "body", "style", "head", "escHandler", "event", "key", "removeEventListener", "addEventListener", "confirm", "okCallback", "cancelCallback", "alert", "callback", "setTimeout", "removeChild", "\u0275\u0275inject", "RendererFactory2", "factory", "\u0275fac", "providedIn"]
}
