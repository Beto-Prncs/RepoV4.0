import{s as R}from"./chunk-KJJQOZ7I.js";import{k as z}from"./chunk-ZX2O5KE6.js";import{T as S,U as V,Wa as I,Y as L,cb as H,lc as k,va as D}from"./chunk-ISKDQYGU.js";import{a as F,g as h}from"./chunk-OIKEWKHE.js";var B=function(r){return r[r.DISABLE=0]="DISABLE",r[r.ENABLE=1]="ENABLE",r[r.ENABLE_FORMS=2]="ENABLE_FORMS",r[r.ENABLE_STORAGE=3]="ENABLE_STORAGE",r}(B||{});var x={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},U=typeof window>"u"?!1:!!globalThis.MSInputMethodContext&&!!document.documentMode,G=typeof navigator>"u"||/Edge\/\d./i.test(navigator.userAgent),J=typeof ReadableStream>"u"||typeof Promise.allSettled>"u",Y="4.10.718",W="4.10.718";function y(r){return r?.includes("bleeding-edge")?W:Y}function v(r,C=""){return r.includes("://")?r:`./${r+C}`}function q(){return typeof process<"u"&&typeof process.env<"u"&&(process.env.JEST_WORKER_ID!==void 0||process.env.VITEST!==void 0)}function K(){if(typeof window>"u"||typeof document>"u"||q())return 4096;let r=document.createElement("canvas"),C=r.getContext("webgl")||r.getContext("experimental-webgl"),e;C instanceof WebGLRenderingContext?e=C.getParameter(C.MAX_TEXTURE_SIZE):e=4096;function t(){return"deviceMemory"in navigator?navigator.deviceMemory*1024:window.performance&&"memory"in window.performance?window.performance.memory.jsHeapSizeLimit/1024/1024:4096}let i=t(),o=Math.floor(Math.sqrt(i*1024*1024/6)),s=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),l=/Android|iPhone|iPad|iPod/.test(navigator.userAgent),g=i>12e3;s||l?o=Math.min(o,4096):g?o=Math.min(o,8192):o=Math.min(o,6e3);let n=Math.min(e,o);return n*n}var f={needsES5:U||G||J,annotationEditorMode:0,annotationMode:B.ENABLE_FORMS,defaultZoomDelay:400,cursorToolOnLoad:0,defaultUrl:"",defaultZoomValue:"",disableHistory:!1,disablePageLabels:!1,enablePermissions:!1,docBaseUrl:"",enablePrintAutoRotate:!0,externalLinkRel:"noopener noreferrer nofollow",externalLinkTarget:0,findController:void 0,historyUpdateUrl:!1,ignoreDestinationZoom:!1,imageResourcesPath:"./images/",maxCanvasPixels:K(),forcePageColors:!1,pageColorsBackground:"Canvas",pageColorsForeground:"CanvasText",pdfBugEnabled:!1,printResolution:150,rangeChunkSize:65536,removePageBorders:!1,enableXfa:!0,fontExtraProperties:!1,sidebarViewOnLoad:-1,scrollModeOnLoad:-1,spreadModeOnLoad:-1,textLayerMode:1,viewOnLoad:0,cMapPacked:!0,cMapUrl:function(){return`${v(f.assetsFolder,"/..")}/cmaps/`},disableAutoFetch:!1,disableFontFace:!1,disableRange:!1,disableStream:!0,isEvalSupported:!0,isOffscreenCanvasSupported:!0,maxImageSize:-1,pdfBug:!1,verbosity:1,workerPort:null,assetsFolder:"assets",_internalFilenameSuffix:".min",sandboxBundleSrc:function(){return f.needsES5?`./pdf.sandbox-${y(v(f.assetsFolder))}-es5.mjs`:`./pdf.sandbox-${y(v(f.assetsFolder))}${f._internalFilenameSuffix}.mjs`},workerSrc:function(){return f.needsES5?`${v(f.assetsFolder)}/pdf.worker-${y(v(f.assetsFolder))}-es5.mjs`:`${v(f.assetsFolder)}/pdf.worker-${y(v(f.assetsFolder))}${f._internalFilenameSuffix}.mjs`},standardFontDataUrl:()=>`${v(f.assetsFolder,"/..")}/standard_fonts/`,doubleTapZoomFactor:"page-width",doubleTapZoomsInHandMode:!0,doubleTapZoomsInTextSelectionMode:!1,doubleTapResetsZoomOnSecondDoubleTap:!1,enableScripting:!0,defaultCacheSize:50,passwordPrompt:void 0,enableHWA:!0,positionPopupDialogsWithJavaScript:!0},M=class{positionPopupBelowItsButton(C,e){f.positionPopupDialogsWithJavaScript&&setTimeout(()=>{let t=Array.from(document.querySelectorAll(`#${C}`)).find(i=>i.offsetParent!==null);if(t){let i=document.querySelector(`#${e}`);if(i instanceof HTMLElement){let o=i.offsetParent;if(o){let s=t.getBoundingClientRect(),l=o.getBoundingClientRect(),g=s.width,n=17,a=document.documentElement.getAttribute("dir")==="rtl",d=a;if(i.classList.contains("doorHangerRight")&&(d=!a),i.style.position="absolute",i.style.display="block",i.style.transformOrigin=d?"top right":"top left",d){let c=l.right-s.right+g/2-n;i.style.right=`${c}px`,i.style.left=""}else{let c=s.left-l.left+g/2-n;i.style.left=`${c}px`,i.style.right=""}let p=document.querySelector("#toolbarContainer");if(p instanceof HTMLElement){let w=p.getBoundingClientRect().bottom-l.top+4;i.style.top=`${w}px`}}}}})}};var X=(()=>{class r{onPDFJSInitSignal=D(void 0);pdfjsVersion=y(f.assetsFolder);constructor(){k(()=>{this.onPDFJSInitSignal()&&(this.pdfjsVersion=y(f.assetsFolder))})}static \u0275fac=function(t){return new(t||r)};static \u0275prov=S({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),_=(()=>{class r{rendererFactory;ngxExtendedPdfViewerInitialized=!1;secondaryMenuIsEmpty=!1;renderer;PDFViewerApplication;constructor(e,t){this.rendererFactory=e,this.renderer=this.rendererFactory.createRenderer(null,null),k(()=>{this.PDFViewerApplication=t.onPDFJSInitSignal()})}find(e,t={}){if(this.ngxExtendedPdfViewerInitialized){if(!t.useSecondaryFindcontroller){let l=document.getElementById("findHighlightAll");l&&(l.checked=t.highlightAll??!1);let g=document.getElementById("findMatchCase");g&&(g.checked=t.matchCase??!1);let n=document.getElementById("findMultiple");n&&(n.checked=t.findMultiple??!1);let a=document.getElementById("findEntireWord");a&&(a.checked=t.wholeWords??!1);let d=document.getElementById("findMatchDiacritics");d&&(d.checked=t.matchDiacritics??!1);let p=document.getElementById("matchRegExp");p&&(p.checked=t.regexp??!1,p.checked&&(n&&(n.checked=!1),a&&(a.checked=!1),d&&(d.checked=!1)),n&&(n.disabled=p.checked),a&&(a.disabled=p.checked),d&&(d.disabled=p.checked));let c=document.getElementById("findInput");c&&typeof e=="string"&&(c.value=e)}let i={caseSensitive:t.matchCase??!1,entireWord:t.wholeWords??!1,highlightAll:t.highlightAll??!1,matchDiacritics:t.matchDiacritics??!1,findMultiple:t.findMultiple,matchRegExp:t.regexp??!1,findPrevious:!1,query:e,source:null,type:"find",dontScrollIntoView:t.dontScrollIntoView??!1};return(t.useSecondaryFindcontroller?this.PDFViewerApplication?.customFindController:this.PDFViewerApplication?.findController)?.ngxFind(i)}else{console.error("The PDF viewer hasn't finished initializing. Please call find() later.");return}}findNext(e=!1){return this.ngxExtendedPdfViewerInitialized?((e?this.PDFViewerApplication?.customFindController:this.PDFViewerApplication?.findController)?.ngxFindNext(),!0):(console.error("The PDF viewer hasn't finished initializing. Please call findNext() later."),!1)}findPrevious(e=!1){return this.ngxExtendedPdfViewerInitialized?((e?this.PDFViewerApplication?.customFindController:this.PDFViewerApplication?.findController)?.ngxFindPrevious(),!0):(console.error("The PDF viewer hasn't finished initializing. Please call findPrevious() later."),!1)}print(e){this.PDFViewerApplication&&(this.PDFViewerApplication?.PDFPrintServiceFactory?.isInPDFPrintRange!==void 0||(e||(e={}),this.setPrintRange(e),this.PDFViewerApplication?.printPdf(),this.PDFViewerApplication?.eventBus.on("afterprint",this.removePrintRange.bind(this),{once:!0})))}removePrintRange(){this.PDFViewerApplication?.PDFPrintServiceFactory&&(delete this.PDFViewerApplication.PDFPrintServiceFactory.isInPDFPrintRange,delete this.PDFViewerApplication.PDFPrintServiceFactory.filteredPageCount)}setPrintRange(e){if(!this.PDFViewerApplication?.PDFPrintServiceFactory){console.error("The print service hasn't been initialized yet.");return}this.PDFViewerApplication.PDFPrintServiceFactory.isInPDFPrintRange=t=>this.isInPDFPrintRange(t,e),this.PDFViewerApplication.PDFPrintServiceFactory.filteredPageCount=this.filteredPageCount(this.PDFViewerApplication?.pagesCount,e)}filteredPageCount(e,t){let i=0;for(let o=0;o<e;o++)this.isInPDFPrintRange(o,t)&&i++;return i}isInPDFPrintRange(e,t){let i=e+1;return!(t.from&&i<t.from||t.to&&i>t.to||t.excluded&&t.excluded.some(o=>o===i)||t.included&&!t.included.some(o=>o===i))}getPageAsLines(e){return h(this,null,function*(){if(this.PDFViewerApplication){let s=(yield(yield(this.PDFViewerApplication?.pdfDocument).getPage(e)).getTextContent()).items.filter(m=>!m.type),l=Number.MAX_SAFE_INTEGER,g=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,d=0,p=0,c="",w=new Array;for(let m=0;m<s.length;m++){let u=s[m];if(!u.hasEOL){let A=u.transform[4],b=-u.transform[5],T=u.width,E=u.height;l=Math.min(l,A),g=Math.min(g,b),n=Math.max(n,A+T),a=Math.max(a,b+E),c+=u.str,u.dir==="rtl"&&p++,u.dir==="ltr"&&d++}if(m===s.length-1||u.hasEOL){let A;d>0&&p>0?A="both":d>0?A="ltr":p>0&&(A="rtl");let b={direction:A,x:l,y:g,width:n-l,height:a-g,text:c.trim()};w.push(b),l=Number.MAX_SAFE_INTEGER,g=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,d=0,p=0,c=""}}return w}return[]})}getPageAsText(e){return h(this,null,function*(){if(!this.PDFViewerApplication)return"";let o=(yield(yield(this.PDFViewerApplication?.pdfDocument).getPage(e)).getTextContent()).items;return this.convertTextInfoToText(o)})}convertTextInfoToText(e){return e?e.filter(t=>!t.type).map(t=>t.hasEOL?t.str+`
`:t.str).join(""):""}getPageAsCanvas(l,g,n){return h(this,arguments,function*(e,t,i,o="#FFFFFF",s=B.ENABLE){if(!this.PDFViewerApplication)return Promise.resolve(void 0);let d=yield this.PDFViewerApplication.pdfDocument.getPage(e);return this.draw(d,t,i,o,s)})}getPageAsImage(l,g,n){return h(this,arguments,function*(e,t,i,o="#FFFFFF",s=B.ENABLE){return(yield this.getPageAsCanvas(e,t,i,o,s))?.toDataURL()})}draw(l,g,n){return h(this,arguments,function*(e,t,i,o="#FFFFFF",s=B.ENABLE){let a=1;t.scale?a=t.scale:t.width?a=t.width/e.getViewport({scale:1}).width:t.height&&(a=t.height/e.getViewport({scale:1}).height);let d=e.getViewport({scale:a}),{ctx:p,canvas:c}=this.getPageDrawContext(d.width,d.height),w=d.clone(),m={canvasContext:p,viewport:w,background:i,backgroundColorToReplace:o,annotationMode:s},u=e.render(m),P=()=>Promise.resolve(c);return u.promise.then(P)})}getPageDrawContext(e,t){let i=document.createElement("canvas"),o=i.getContext("2d",{alpha:!0});if(!o)throw new Error("Couldn't create the 2d context");return i.width=e,i.height=t,this.renderer.setStyle(i,"width",`${e}px`),this.renderer.setStyle(i,"height",`${t}px`),{ctx:o,canvas:i}}getCurrentDocumentAsBlob(){return h(this,null,function*(){return(yield this.PDFViewerApplication?.export())||void 0})}getFormData(e=!0){return h(this,null,function*(){if(!this.PDFViewerApplication)return[];let t=this.PDFViewerApplication?.pdfDocument,i=96/72,o=[];for(let s=1;s<=t?.numPages;s++){let l=yield t.getPage(s);(yield l.getAnnotations()).filter(n=>n.subtype==="Widget").map(n=>F({},n)).forEach(n=>{let a=l.getViewport({scale:i}).convertToViewportRectangle(n.rect);if(e&&n.fieldName)try{if(n.exportValue){let d=this.PDFViewerApplication?.pdfDocument.annotationStorage.getValue(n.id,n.fieldName+"/"+n.exportValue,"");n.value=d?.value}else if(n.radioButton){let d=this.PDFViewerApplication?.pdfDocument.annotationStorage.getValue(n.id,n.fieldName+"/"+n.fieldValue,"");n.value=d?.value}else{let d=this.PDFViewerApplication?.pdfDocument.annotationStorage.getValue(n.id,n.fieldName,"");n.value=d?.value}}catch{}o.push({fieldAnnotation:n,fieldRect:a,pageNumber:s})})}return o})}addPageToRenderQueue(e){return this.PDFViewerApplication?.pdfViewer.addPageToRenderQueue(e)??!1}isRenderQueueEmpty(){return this.PDFViewerApplication?!this.PDFViewerApplication.pdfViewer.renderingQueue.getHighestPriority(this.PDFViewerApplication?.pdfViewer._getVisiblePages(),this.PDFViewerApplication?.pdfViewer._pages,!0,!1):!0}hasPageBeenRendered(e){if(!this.PDFViewerApplication)return!1;let t=this.PDFViewerApplication?.pdfViewer._pages;return t.length>e&&e>=0?t[e].renderingState===3:!1}sleep(e){return new Promise(t=>setTimeout(t,e))}renderPage(e){return h(this,null,function*(){if(!this.hasPageBeenRendered(e))for(yield this.addPageToRenderQueue(e);!this.hasPageBeenRendered(e);)yield this.sleep(7)})}currentlyRenderedPages(){return this.PDFViewerApplication?(this.PDFViewerApplication?.pdfViewer._pages).filter(t=>t.renderingState===3).map(t=>t.id):[]}numberOfPages(){return this.PDFViewerApplication?(this.PDFViewerApplication?.pdfViewer._pages).length:0}getCurrentlyVisiblePageNumbers(){let e=this.PDFViewerApplication;return e?e.pdfViewer._getVisiblePages().views?.map(i=>i.id):[]}listLayers(){return h(this,null,function*(){if(!this.PDFViewerApplication)return[];let e=yield this.PDFViewerApplication?.pdfViewer.optionalContentConfigPromise;if(e)return e.getOrder().filter(o=>typeof o!="object").map(o=>{let s=e.getGroup(o);return{layerId:o,name:s.name,visible:s.visible}})})}toggleLayer(e){return h(this,null,function*(){if(!this.PDFViewerApplication)return;let t=yield this.PDFViewerApplication?.pdfViewer.optionalContentConfigPromise;if(t){let i=t.getGroup(e).visible,o=document.querySelector(`input[id='${e}']`);o&&(i=o.checked,o.checked=!i),t.setVisibility(e,!i),this.PDFViewerApplication?.eventBus.dispatch("optionalcontentconfig",{source:this,promise:Promise.resolve(t)})}})}scrollPageIntoView(e,t){this.PDFViewerApplication?.pdfViewer?.scrollPagePosIntoView(e,t)}getSerializedAnnotations(){return this.PDFViewerApplication?.pdfViewer.getSerializedAnnotations()}addEditorAnnotation(e){return h(this,null,function*(){yield this.PDFViewerApplication?.pdfViewer.addEditorAnnotation(e)})}removeEditorAnnotations(e){this.PDFViewerApplication?.pdfViewer.removeEditorAnnotations(e)}loadImageAsDataURL(e){return h(this,null,function*(){if(e.startsWith("data:"))return e;let t=yield fetch(e);if(!t.ok)throw new Error(`Failed to fetch the image from ${e}: ${t.statusText}`);return yield t.blob()})}addImageToAnnotationLayer(n){return h(this,arguments,function*({urlOrDataUrl:e,page:t,left:i,bottom:o,right:s,top:l,rotation:g}){if(!this.PDFViewerApplication){console.error("The PDF viewer has not been initialized yet.");return}let a;t!==void 0?(t!==this.currentPageIndex()&&(yield this.renderPage(t)),a=t):a=this.currentPageIndex()??0;let d=this.PDFViewerApplication.pdfViewer.annotationEditorMode;this.switchAnnotationEdtorMode(13);let p=yield this.loadImageAsDataURL(e),c=this.PDFViewerApplication.pdfViewer._pages[a].pdfPage.view,w=c[0],m=c[1],u=c[2],P=c[3],A=u-w,b=P-m,T=this.PDFViewerApplication?.pdfViewer._pages[a].div.clientWidth,E=this.PDFViewerApplication?.pdfViewer._pages[a].div.clientHeight,O=this.convertToPDFCoordinates(i,A,0,T),N=this.convertToPDFCoordinates(o,b,0,E),Q=this.convertToPDFCoordinates(s,A,A,T),Z=this.convertToPDFCoordinates(l,b,b,E),j={annotationType:13,pageIndex:a,bitmapUrl:p,rect:[O,N,Q,Z],rotation:g??0};this.addEditorAnnotation(j),yield this.sleep(10),this.switchAnnotationEdtorMode(d)})}currentPageIndex(){let e=this.PDFViewerApplication?.pdfViewer;if(e)return e.currentPageNumber-1}convertToPDFCoordinates(e,t,i,o){return e?typeof e=="string"?e.endsWith("%")?parseInt(e,10)/100*t:e.endsWith("px")?parseInt(e,10)*(t/o):parseInt(e,10):e:i}switchAnnotationEdtorMode(e){this.PDFViewerApplication?.eventBus.dispatch("switchannotationeditormode",{mode:e})}set editorFontSize(e){this.setEditorProperty(x.FREETEXT_SIZE,e)}set editorFontColor(e){this.setEditorProperty(x.FREETEXT_COLOR,e)}set editorInkColor(e){this.setEditorProperty(x.INK_COLOR,e)}set editorInkOpacity(e){this.setEditorProperty(x.INK_OPACITY,e)}set editorInkThickness(e){this.setEditorProperty(x.INK_THICKNESS,e)}set editorHighlightColor(e){this.setEditorProperty(x.HIGHLIGHT_COLOR,e)}set editorHighlightDefaultColor(e){this.setEditorProperty(x.HIGHLIGHT_DEFAULT_COLOR,e)}set editorHighlightShowAll(e){this.setEditorProperty(x.HIGHLIGHT_SHOW_ALL,e)}set editorHighlightThickness(e){this.setEditorProperty(x.HIGHLIGHT_THICKNESS,e)}setEditorProperty(e,t){this.PDFViewerApplication?.eventBus.dispatch("switchannotationeditorparams",{type:e,value:t}),this.PDFViewerApplication?.eventBus.dispatch("annotationeditorparamschanged",{details:[[e,t]]})}static \u0275fac=function(t){return new(t||r)(L(I),L(X))};static \u0275prov=S({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();Promise.allSettled||window.Zone&&!window["__zone_symbol__Promise.allSettled"]&&console.error("Please update zone.js to version 0.10.3 or higher. Otherwise, you'll run the slow ECMAScript 5 version even on modern browser that can run the fast ESMAScript 2015 version.");var xt=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=H({type:r});static \u0275inj=V({providers:[_,M],imports:[z,R]})}return r})();export{xt as a};
//# sourceMappingURL=chunk-BBBOZ6FZ.js.map
